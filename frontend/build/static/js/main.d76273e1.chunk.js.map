{"version":3,"sources":["pages/errors/UnAuthorization.tsx","pages/errors/RequestError.tsx","pages/Login.tsx","components/LoadingAndDialog.tsx","hooks/useAccessToken.ts","images/default-profile-picture.png","components/AppHeader.tsx","components/AppMenu.tsx","images/v-logo-small.png","images/v-logo-big.png","common/commonValue.ts","common/mergeValid.ts","components/PageHeaderInfo.tsx","hooks/useAsyncAction.tsx","hooks/useAsyncGetAction.tsx","hooks/useButtons.tsx","hooks/useCodes.ts","hooks/useLabels.tsx","hooks/usePage.ts","hooks/useTableModel.tsx","pages/developer/button/ResourceButton.tsx","pages/developer/label/ResourceLabel.tsx","pages/developer/menu/ResourceMenu.tsx","pages/developer/message/ResourceMessage.tsx","pages/developer/page/ResourcePage.tsx","pages/developer/tab/ResourceTab.tsx","pages/security/cacheRefresh/SecurityCacheRefresh.tsx","pages/security/role/SecurityRole.tsx","pages/security/user/SecurityUser.tsx","pages/system/property/SystemProperty.tsx","pages/DefaultPage.tsx","pages/Main.tsx","hooks/useWindowSize.ts","pages/Index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["UnAuthorization","mutation","useMutation","axios","post","onSuccess","window","location","href","onClickToLogin","useCallback","mutate","onClick","RequestError","useRecoilValue","responseStatusState","LoginContainer","styled","div","Login","setLogin","useSetRecoilState","loginSelector","loginMutation","headers","Authorization","base64","encode","id","password","data","onError","err","setError","useChange","inputForm","onChange","useState","error","onLogin","e","preventDefault","onConfirm","isLoading","visible","type","onSubmit","direction","variant","placeholder","value","name","align","loadingState","atom","key","default","dialogState","content","LoadingAndDialog","loading","useRecoilState","dialog","setDialog","onCloseDialog","React","memo","reducer","state","action","Error","useAccessToken","setResponseStatus","setLoading","useReducer","dispatch","useEffect","get","then","response","defaults","common","authorization","catch","status","AppHeader","paddingLeft","onClickHamburgerButton","searchField","setSearchField","profileField","setProfileField","settingField","setSettingField","visibleSearchField","setVisibleSearchField","visibleProfileField","setVisibleProfileField","visibleSettingField","setVisibleSettingField","profilePicture","loginUser","setLoginUser","setMenuItems","logoutMutation","res","searchFieldRef","useRef","useOutsideAlerter","profileFieldRef","settingFieldRef","onClickSearchItem","onClickLogout","onClickCloseButton","onInputDebounceSearch","_","debounce","search","params","accessibleMenu","map","menu","MenuItem","code","style","height","overflow","onClickProfile","event","padding","onClickSetting","Setting","profileName","left","defaultProfilePicture","src","alt","onClickMenuButton","onInputSearch","currentTarget","themeData","Object","keys","theme","t","StyledMenuItem","props","subColors","pageBackground","boxBackground","pageHeaderColors","menuListItemName","menuName","to","url","className","menuPath","themeState","setTheme","onClickTheme","target","localStorage","setItem","iconOnly","borderRadius","width","icon","AppMenu","isFold","items","setItmes","smallLogo","bigLogo","defaultValue","mergeValid","valids","reduce","acc","cur","copyAcc","copyCur","mergeWith","objValue","srcValue","PageHeaderInfo","pageData","menuList","postAction","a","putAction","put","deleteAction","delete","validation","validationMap","useAsyncAction","callback","options","message","errorCode","setTimeout","console","statusText","getAction","useAsyncGetAction","deps","skip","fetchData","useButtons","buttonMap","buttons","button","buttonInfo","disabled","disable","useCodes","groupCode","codes","setCodes","useLabels","useMemo","labelMap","property","usePage","fetchPageData","pathname","responsePageData","pageId","useTableModel","dependencies","concat","model","el","label","pageRow","buttonRow","buttonType","ResourceButton","enableCodes","initPageState","openModal","disablePostButton","disablePutDeleteButton","openDeleteDialog","disableItem","pageState","setPageState","description","httpMethod","form","onChangeForm","replaceForm","resetForm","LABEL_RESOURCE_BUTTON_CODE","LABEL_RESOURCE_BUTTON_NAME","LABEL_RESOURCE_BUTTON_DESCRIPTION","LABEL_RESOURCE_BUTTON_STATUS","LABEL_RESOURCE_BUTTON_URL","LABEL_RESOURCE_BUTTON_HTTP_METHOD","LABEL_RESOURCE_BUTTON_ICON","LABEL_RESOURCE_BUTTON_CAPTION","LABEL_RESOURCE_BUTTON_LIST","LABEL_RESOURCE_BUTTON_PAGE_LIST","pageTableModel","hidden","iconCodes","iconTypes","render","labelTableModel","formatter","cellValue","color","includes","asyncSucCallback","getButtons","pages","resourceId","postButton","postButtonValid","putButton","putButtonValid","deleteButton","buttonInfos","tableButtons","onSelectPageTableRow","rowValue","onSelectButtonTableRow","buttonValid","onCancel","caption","onSelectRow","title","required","labelRow","ResourceLabel","LABEL_RESOURCE_LABEL_CODE","LABEL_RESOURCE_LABEL_NAME","LABEL_RESOURCE_LABEL_DESCRIPTION","LABEL_RESOURCE_LABEL_STATUS","LABEL_RESOURCE_LABEL_CAPTION","LABEL_RESOURCE_LABEL_LIST","LABEL_RESOURCE_LABEL_PAGE_LIST","getLabels","labels","postLabel","postLabelValid","putLabel","putLabelValid","deleteLabel","onSelectLabelTableRow","labelValid","onBlur","row","ResourceMenu","hierarchyCategories","getHierarchyCategories","openMenuModal","openCategoryModal","disableMenuButton","disableCategoryButton","openDeleteMenuDialog","openDeleteCategoryDialog","disableMenuItem","disableCategoryItem","menuCode","menuDescription","menuCategory","menuUrl","menuStatus","menuIcon","menuSort","menuForm","onChangeMenuForm","replaceMenuForm","resetMenuForm","categoryCode","categoryName","categoryDescription","categoryParent","categoryStatus","categoryIcon","categorySort","categoryForm","onChangeCategoryForm","replaceCategoryForm","resetCategoryForm","hierarchyCategoriesData","LABEL_RESOURCE_MENU_CODE","LABEL_RESOURCE_MENU_NAME","LABEL_RESOURCE_MENU_DESCRIPTION","LABEL_RESOURCE_MENU_STATUS","LABEL_RESOURCE_MENU_URL","LABEL_RESOURCE_MENU_ICON","LABEL_RESOURCE_MENU_SORT","LABEL_RESOURCE_MENU_PARENT_CATEGORY","LABEL_RESOURCE_MENU_CAPTION","LABEL_RESOURCE_MENU_LIST","LABEL_RESOURCE_CATEGORY_NAME","LABEL_RESOURCE_CATEGORY_CODE","LABEL_RESOURCE_CATEGORY_CAPTION","menuReqBody","menuCategoryId","sort","categoryReqBody","parentId","getMenus","handleError","menus","postMenu","postMenuValid","putMenu","putMenuValid","deleteMenu","postCategory","postCategoryValid","putCategory","putCategoryValid","deleteCategory","String","menuValid","categoryValid","enableTreeTable","disableFilters","disableSortBy","ResourceMessage","messageTypes","disableButton","LABEL_RESOURCE_MESSAGE_CODE","LABEL_RESOURCE_MESSAGE_NAME","LABEL_RESOURCE_MESSAGE_DESCRIPTION","LABEL_RESOURCE_MESSAGE_STATUS","LABEL_RESOURCE_MESSAGE_TYPE","LABEL_RESOURCE_MESSAGE_LIST","LABEL_RESOURCE_MESSAGE_CAPTION","getMessages","messages","postMessage","postMessageValid","putMessage","putMessageValid","deleteMessage","messageValid","ResourcePage","LABEL_RESOURCE_PAGE_CODE","LABEL_RESOURCE_PAGE_NAME","LABEL_RESOURCE_PAGE_DESCRIPTION","LABEL_RESOURCE_PAGE_STATUS","LABEL_RESOURCE_PAGE_URL","LABEL_RESOURCE_PAGE_LIST","LABEL_RESOURCE_PAGE_CAPTION","getPages","postPage","postPageValid","putPage","putPageValid","deletePage","pageValid","tabRow","ResourceTab","tabGroup","LABEL_RESOURCE_TAB_CODE","LABEL_RESOURCE_TAB_NAME","LABEL_RESOURCE_TAB_DESCRIPTION","LABEL_RESOURCE_TAB_STATUS","LABEL_RESOURCE_TAB_URL","LABEL_RESOURCE_TAB_SORT","LABEL_RESOURCE_TAB_GROUP","LABEL_RESOURCE_TAB_CAPTION","LABEL_RESOURCE_TAB_LIST","LABEL_RESOURCE_TAB_PAGE_LIST","getTabs","tabs","postTab","postTabValid","putTab","putTabValid","deleteTab","onSelectTabTableRow","tabValid","SecurityCacheRefresh","refreshAllCache","refreshAllCacheButton","checkedRoleResourcePage","checkedRoleResourceButton","checkedRoleResourceTab","checkedRoleResourceMenu","SecurityRole","roleResourceButtonDatas","setRoleResourceButtonDatas","roleResourceTabDatas","setRoleResourceTabDatas","openRoleResourceModal","openRoleResourceMenuModal","LABEL_SECURITY_ROLE_NAME","LABEL_SECURITY_ROLE_DESCRIPTION","LABEL_SECURITY_ROLE_STATUS","LABEL_SECURITY_ROLE_LIST","LABEL_SECURITY_ROLE_CAPTION","LABEL_SECURITY_ROLE_RESOURCE_CAPTION","LABEL_SECURITY_ROLE_RESOURCE_PAGE_LIST","LABEL_SECURITY_ROLE_RESOURCE_BUTTON_LIST","LABEL_SECURITY_ROLE_RESOURCE_TAB_LIST","LABEL_SECURITY_ROLE_RESOURCE_MENU_CAPTION","LABEL_SECURITY_ROLE_RESOURCE_MENU_LIST","pageModel","cellvalue","checked","buttonModel","buttonId","tabModel","tabId","menuModel","menuId","getRoles","roles","postRole","postRoleValid","roleId","putRole","putRoleValid","deleteRole","roleResourcePages","getRoleResourcePages","roleResourceMenus","getRoleResourceMenus","checkedPageIds","checkedButtonIds","checkedTabIds","push","allocateRoleResource","checkedMenuIds","allocateRoleResourceMenu","forEach","roleResourcePage","length","roleResourceButton","roleResourceTab","recursiveChecked","roleResourceMenu","subRows","onSelectRoleResourcePageRow","roleValid","allocateButton","allocateMenuButton","marginTop","checkedUserRole","SecurityUser","userStatusCodes","openRoleModal","profilePicturePath","setProfilePicture","LABEL_SECURITY_USER_ID","LABEL_SECURITY_USER_NAME","LABEL_SECURITY_USER_PASSWORD","LABEL_SECURITY_USER_STATUS","LABEL_SECURITY_USER_CAPTION","LABEL_SECURITY_USER_LIST","LABEL_SECURITY_USER_ROLE_CAPTION","LABEL_SECURITY_USER_PROFILE_PICTURE","roleTableModel","getUsers","users","formData","FormData","append","postUser","postUserValid","putUser","putUserValid","deleteUser","userRoles","getUserRoles","checkedRoleIds","userId","roleIds","allocateUserRole","deleteProfilePicture","userRole","userValid","deleteProfilePictureButton","pageInfo","files","SystemProperty","disableModifyButton","disableDeleteButton","propertyGroup","updatable","searchPropertyGroup","searchForm","onChangeSearchForm","LABEL_SYSTEM_PROPERTY_GROUP","LABEL_SYSTEM_PROPERTY_PROPERTY","LABEL_SYSTEM_PROPERTY_VALUE","LABEL_SYSTEM_PROPERTY_DESCRIPTION","LABEL_SYSTEM_PROPERTY_UPDATEABLE","LABEL_SYSTEM_PROPERTY_LIST","LABEL_SYSTEM_PROPERTY_CAPTION","propertyGroupType","updatableCodes","getSystemProperties","systemProperties","postSystemProperty","postSystemPropertyValid","systemPropertyId","putSystemProperty","putSystemPropertyValid","deleteSystemProperty","systemPropertyValid","Test","PageContainer","Main","innerWidth","setIsFold","setPaddingLeft","windowSize","undefined","setWindowSize","handleResize","innerHeight","addEventListener","removeEventListener","useWindowSize","minHeight","path","component","exact","getItem","loginState","selector","set","newValue","Index","responseStatus","login","useRecoilValueLoadable","appTheme","contents","queryClient","QueryClient","App","QueryClientProvider","client","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d76273e1.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport React, { useCallback } from 'react';\r\nimport { useMutation } from 'react-query';\r\n\r\nfunction UnAuthorization() {\r\n  const mutation = useMutation(() => axios.post('/logout'), {\r\n    onSuccess: () => {\r\n      window.location.href = '/';\r\n    },\r\n  });\r\n\r\n  const onClickToLogin = useCallback(() => {\r\n    mutation.mutate();\r\n  }, [mutation]);\r\n\r\n  return (\r\n    <div>\r\n      401 권한 불충분 <button onClick={onClickToLogin}>로그인 페이지로</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UnAuthorization;\r\n","import React from 'react';\r\nimport { useRecoilValue } from 'recoil';\r\nimport { responseStatusState } from '../Index';\r\nimport UnAuthorization from './UnAuthorization';\r\n\r\nfunction RequestError() {\r\n  const requestError = useRecoilValue(responseStatusState);\r\n\r\n  if (requestError === 401) {\r\n    return <UnAuthorization />;\r\n  } else {\r\n    return null;\r\n  }\r\n}\r\n\r\nexport default RequestError;\r\n","import axios from 'axios';\r\nimport base64 from 'base-64';\r\nimport {\r\n  Button,\r\n  Container,\r\n  Dialog,\r\n  Form,\r\n  InFormContainer,\r\n  Input,\r\n  Loading,\r\n  useChange,\r\n} from 'doif-react-kit';\r\nimport React, { FormEvent, useCallback, useState } from 'react';\r\nimport { useMutation } from 'react-query';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport styled from 'styled-components';\r\nimport { loginSelector } from './Index';\r\n\r\nfunction Login() {\r\n  const setLogin = useSetRecoilState(loginSelector);\r\n  const loginMutation = useMutation(\r\n    () =>\r\n      axios.post(\r\n        '/login',\r\n        {},\r\n        {\r\n          headers: {\r\n            Authorization: `Basic ${base64.encode(id + ':' + password)}`,\r\n          },\r\n        },\r\n      ),\r\n    {\r\n      onSuccess: (data) => {\r\n        setLogin(true);\r\n      },\r\n      onError: (err) => {\r\n        setError(() => true);\r\n      },\r\n    },\r\n  );\r\n\r\n  const [inputForm, onChange] = useChange({\r\n    id: '',\r\n    password: '',\r\n  });\r\n  const [error, setError] = useState(false);\r\n\r\n  const { id, password } = inputForm;\r\n\r\n  const onLogin = useCallback(\r\n    (e: FormEvent<HTMLFormElement>) => {\r\n      e.preventDefault();\r\n      loginMutation.mutate();\r\n    },\r\n    [loginMutation],\r\n  );\r\n\r\n  const onConfirm = useCallback(() => {\r\n    setError(() => false);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      {loginMutation.isLoading && <Loading />}\r\n      <Dialog visible={error} type=\"error\" onConfirm={onConfirm}>\r\n        아이디 또는 패스워드가 일치하지 않습니다.\r\n      </Dialog>\r\n      <LoginContainer>\r\n        <div>\r\n          <h1>로그인 페이지</h1>\r\n          <hr />\r\n          <Form onSubmit={onLogin}>\r\n            <Container direction=\"column\">\r\n              <Input\r\n                variant=\"underline\"\r\n                placeholder=\"ID\"\r\n                value={id}\r\n                name=\"id\"\r\n                onChange={onChange}\r\n              />\r\n              <Input\r\n                type=\"password\"\r\n                variant=\"underline\"\r\n                placeholder=\"Password\"\r\n                value={password}\r\n                name=\"password\"\r\n                onChange={onChange}\r\n              />\r\n            </Container>\r\n            <InFormContainer align=\"center\">\r\n              <Button type=\"submit\">로그인</Button>\r\n            </InFormContainer>\r\n          </Form>\r\n        </div>\r\n      </LoginContainer>\r\n    </>\r\n  );\r\n}\r\n\r\nconst LoginContainer = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 600px;\r\n\r\n  > div {\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 50%;\r\n  }\r\n`;\r\n\r\nexport default Login;\r\n","import { Dialog, Loading } from 'doif-react-kit';\r\nimport React, { useCallback } from 'react';\r\nimport { atom, useRecoilState, useRecoilValue } from 'recoil';\r\n\r\nexport type DialogProps = {\r\n  visible: boolean;\r\n  type?: 'success' | 'warning' | 'error' | 'info';\r\n  content: React.ReactNode;\r\n};\r\n\r\nexport const loadingState = atom({\r\n  key: 'loadingState',\r\n  default: false,\r\n});\r\n\r\nexport const dialogState = atom<DialogProps>({\r\n  key: 'dialogState',\r\n  default: {\r\n    visible: false,\r\n    type: 'info',\r\n    content: '',\r\n  },\r\n});\r\n\r\nfunction LoadingAndDialog() {\r\n  const loading = useRecoilValue(loadingState);\r\n  const [dialog, setDialog] = useRecoilState(dialogState);\r\n\r\n  const onCloseDialog = useCallback(\r\n    () => setDialog((data) => ({ ...data, visible: false })),\r\n    [setDialog],\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {loading && <Loading />}\r\n      <Dialog\r\n        visible={dialog.visible}\r\n        type={dialog.type}\r\n        onConfirm={onCloseDialog}\r\n      >\r\n        {dialog.content}\r\n      </Dialog>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default React.memo(LoadingAndDialog);\r\n","import axios from 'axios';\r\nimport { useEffect, useReducer } from 'react';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport { responseStatusState } from '../pages/Index';\r\nimport { loadingState } from '../components/LoadingAndDialog';\r\n\r\nfunction reducer(state: any, action: any) {\r\n  switch (action.type) {\r\n    case 'LOADING':\r\n      return {\r\n        loading: true,\r\n        error: null,\r\n      };\r\n    case 'SUCCESS':\r\n      return {\r\n        loading: false,\r\n        error: null,\r\n      };\r\n    case 'ERROR':\r\n      return {\r\n        loading: false,\r\n        error: action.error,\r\n      };\r\n    default:\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n  }\r\n}\r\n\r\nexport default function useAccessToken(onSuccess?: Function) {\r\n  const setResponseStatus = useSetRecoilState(responseStatusState);\r\n  const setLoading = useSetRecoilState(loadingState);\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    loading: false,\r\n    error: false,\r\n  });\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: 'LOADING' });\r\n    setLoading(true);\r\n\r\n    axios\r\n      .get('/token/access-token')\r\n      .then((response) => {\r\n        axios.defaults.headers.common['Authorization'] =\r\n          response.headers.authorization;\r\n\r\n        dispatch({ type: 'SUCCESS' });\r\n        setLoading(false);\r\n\r\n        if (onSuccess) {\r\n          onSuccess();\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        setResponseStatus(error.response.status);\r\n        dispatch({ type: 'ERROR', error });\r\n        setLoading(false);\r\n      });\r\n  }, [onSuccess, setResponseStatus, setLoading]);\r\n\r\n  return [state.loading, state.error];\r\n}\r\n","export default __webpack_public_path__ + \"static/media/default-profile-picture.a8759827.png\";","import axios from 'axios';\r\nimport {\r\n  Box,\r\n  Button,\r\n  Container,\r\n  Header,\r\n  Icon,\r\n  Radio,\r\n  theme,\r\n  useOutsideAlerter,\r\n} from 'doif-react-kit';\r\nimport { DoifDataProps } from 'doif-react-kit/dist/types/props/DoifCommonProps';\r\nimport _ from 'lodash';\r\nimport React, {\r\n  RefObject,\r\n  useCallback,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport { useMutation } from 'react-query';\r\nimport { Link } from 'react-router-dom';\r\nimport { useRecoilState, useSetRecoilState } from 'recoil';\r\nimport styled from 'styled-components';\r\nimport useAccessToken from '../hooks/useAccessToken';\r\nimport defaultProfilePicture from '../images/default-profile-picture.png';\r\nimport { loginSelector, themeState } from '../pages/Index';\r\n\r\ninterface AppHeaderProps {\r\n  paddingLeft: string;\r\n  onClickHamburgerButton: (\r\n    event: React.MouseEvent<HTMLButtonElement, MouseEvent>,\r\n  ) => void;\r\n}\r\n\r\nfunction AppHeader({ paddingLeft, onClickHamburgerButton }: AppHeaderProps) {\r\n  const [searchField, setSearchField] = useState<React.ReactNode>('');\r\n  const [profileField, setProfileField] = useState<React.ReactNode>('');\r\n  const [settingField, setSettingField] = useState<React.ReactNode>('');\r\n  const [visibleSearchField, setVisibleSearchField] = useState(false);\r\n  const [visibleProfileField, setVisibleProfileField] = useState(false);\r\n  const [visibleSettingField, setVisibleSettingField] = useState(false);\r\n  const [loginUser, setLoginUser] = useState({\r\n    name: '',\r\n    profilePicture: '',\r\n  });\r\n\r\n  const [menuItems, setMenuItems] = useState([]);\r\n\r\n  const setLogin = useSetRecoilState(loginSelector);\r\n\r\n  const logoutMutation = useMutation(() => axios.post('/logout'), {\r\n    onSuccess: (res) => {\r\n      setLogin(res.data);\r\n    },\r\n  });\r\n\r\n  useAccessToken(\r\n    useCallback(() => {\r\n      axios.get('/api/users/login-user').then((response) => {\r\n        setLoginUser(response.data);\r\n      });\r\n    }, []),\r\n  );\r\n\r\n  // SearchField 바깥 쪽 클릭했을 때 닫히게 하는 함수\r\n  const searchFieldRef: RefObject<HTMLDivElement> = useRef(null);\r\n  useOutsideAlerter(\r\n    searchFieldRef,\r\n    useCallback(() => setVisibleSearchField(false), []),\r\n  );\r\n\r\n  // ProfileField 바깥 쪽 클릭했을 때 닫히게 하는 함수\r\n  const profileFieldRef: RefObject<HTMLDivElement> = useRef(null);\r\n  useOutsideAlerter(\r\n    profileFieldRef,\r\n    useCallback(() => {\r\n      return setVisibleProfileField(false);\r\n    }, []),\r\n  );\r\n\r\n  // SettingField 바깥 쪽 클릭했을 때 닫히게 하는 함수\r\n  const settingFieldRef: RefObject<HTMLDivElement> = useRef(null);\r\n  useOutsideAlerter(\r\n    settingFieldRef,\r\n    useCallback(() => {\r\n      return setVisibleSettingField(false);\r\n    }, []),\r\n  );\r\n\r\n  /** SearchField 닫기 버튼 클릭했을 때 */\r\n  const onClickSearchItem = useCallback(() => {\r\n    setVisibleSearchField(false);\r\n    setMenuItems([]);\r\n  }, []);\r\n\r\n  const onClickLogout = useCallback(() => {\r\n    setVisibleProfileField(false);\r\n    logoutMutation.mutate();\r\n  }, [logoutMutation]);\r\n\r\n  /** SettingField 아이템 클릭했을 때 */\r\n  const onClickCloseButton = useCallback(() => {\r\n    setVisibleSettingField(false);\r\n  }, []);\r\n\r\n  const onInputDebounceSearch = _.debounce((search: string) => {\r\n    if (search) {\r\n      setVisibleSearchField(true);\r\n\r\n      axios\r\n        .get('/api/accessible-menu', {\r\n          params: {\r\n            search,\r\n          },\r\n        })\r\n        .then((response) => {\r\n          const accessibleMenu = response.data.map((menu: any) => {\r\n            return (\r\n              <MenuItem\r\n                key={menu.code}\r\n                menu={menu}\r\n                onClick={onClickSearchItem}\r\n              />\r\n            );\r\n          });\r\n\r\n          setSearchField(\r\n            <Box style={{ height: '400px', overflow: 'auto' }}>\r\n              {accessibleMenu}\r\n            </Box>,\r\n          );\r\n        });\r\n    }\r\n  }, 200);\r\n\r\n  /** Search 검색했을 때 */\r\n  const onInputSearch = (event: React.FormEvent<HTMLInputElement>) => {\r\n    onInputDebounceSearch(event.currentTarget.value);\r\n  };\r\n\r\n  /** Profile 클릭했을 때 */\r\n  const onClickProfile = useCallback(\r\n    (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\r\n      setVisibleProfileField((visibleProfileField) => !visibleProfileField);\r\n      const profileItem = (\r\n        <div style={{ padding: '0.5rem' }}>\r\n          <div onClick={onClickLogout}>로그아웃</div>\r\n        </div>\r\n      );\r\n\r\n      setProfileField(profileItem);\r\n    },\r\n    [onClickLogout],\r\n  );\r\n\r\n  /** Setting 클릭했을 때 */\r\n  const onClickSetting = useCallback(\r\n    (event: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n      setVisibleSettingField((visibleProfileField) => !visibleProfileField);\r\n      setSettingField(<Setting onClickCloseButton={onClickCloseButton} />);\r\n    },\r\n    [onClickCloseButton],\r\n  );\r\n\r\n  useEffect(() => {\r\n    setSettingField(<Setting onClickCloseButton={onClickCloseButton} />);\r\n  }, [onClickCloseButton]);\r\n\r\n  return (\r\n    <Header\r\n      profileName={loginUser.name}\r\n      left={paddingLeft}\r\n      defaultProfilePicture={\r\n        loginUser.profilePicture ? (\r\n          <img src={loginUser.profilePicture} alt=\"프로필 이미지\" />\r\n        ) : (\r\n          <img src={defaultProfilePicture} alt=\"프로필 이미지\" />\r\n        )\r\n      }\r\n      onClickMenuButton={onClickHamburgerButton}\r\n      onInputSearch={onInputSearch}\r\n      searchField={searchField}\r\n      visibleSearchField={visibleSearchField}\r\n      searchFieldRef={searchFieldRef}\r\n      onClickProfile={onClickProfile}\r\n      profileField={profileField}\r\n      visibleProfileField={visibleProfileField}\r\n      profileFieldRef={profileFieldRef}\r\n      onClickSetting={onClickSetting}\r\n      settingField={settingField}\r\n      visibleSettingField={visibleSettingField}\r\n      settingFieldRef={settingFieldRef}\r\n    />\r\n  );\r\n}\r\n\r\ninterface SettingProps {\r\n  onClickCloseButton: () => void;\r\n}\r\n\r\nconst themeData: Array<DoifDataProps> = Object.keys(theme).map((t) => ({\r\n  code: t,\r\n  name: t,\r\n}));\r\n\r\nconst StyledMenuItem = styled.div`\r\n  /* background-color: ${(props) => props.theme.subColors.pageBackground}; */\r\n\r\n  & + & {\r\n    padding-top: 0.25rem;\r\n    border-top: 1px dashed ${(props) => props.theme.subColors.pageBackground};\r\n  }\r\n\r\n  a {\r\n    text-decoration: none;\r\n  }\r\n\r\n  div.menu-wrapper {\r\n    /* background-color: ${(props) => props.theme.subColors.boxBackground}; */\r\n    padding: 0.5rem;\r\n    border-radius: 4px;\r\n  }\r\n\r\n  div.menu-path {\r\n    color: ${(props) => props.theme.pageHeaderColors.menuListItemName};\r\n    font-size: 0.9rem;\r\n  }\r\n\r\n  div.menu-name {\r\n    color: ${(props) => props.theme.pageHeaderColors.menuName};\r\n  }\r\n`;\r\n\r\nfunction MenuItem({ menu, onClick }: any) {\r\n  return (\r\n    <StyledMenuItem>\r\n      <Link to={menu.url} onClick={onClick}>\r\n        <div className=\"menu-wrapper\">\r\n          <div className=\"menu-path\">{menu.menuPath}</div>\r\n          <div className=\"menu-name\">{menu.name}</div>\r\n        </div>\r\n      </Link>\r\n    </StyledMenuItem>\r\n  );\r\n}\r\n\r\nfunction Setting({ onClickCloseButton }: SettingProps) {\r\n  const [theme, setTheme] = useRecoilState(themeState);\r\n\r\n  const onClickTheme = useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      setTheme(e.target.value);\r\n      localStorage.setItem('AppTheme', e.target.value);\r\n    },\r\n    [setTheme],\r\n  );\r\n\r\n  return (\r\n    <Container style={{ padding: '0.5rem' }} direction=\"column\">\r\n      <Container align=\"right\">\r\n        <Button\r\n          iconOnly\r\n          variant=\"ghost\"\r\n          style={{\r\n            borderRadius: '1.125rem',\r\n            width: '2.25rem',\r\n            height: '2.25rem',\r\n          }}\r\n          onClick={onClickCloseButton}\r\n        >\r\n          <Icon icon=\"exit\" />\r\n        </Button>\r\n      </Container>\r\n      <Container>\r\n        <Radio\r\n          data={themeData}\r\n          name=\"themes\"\r\n          value={theme}\r\n          onChange={onClickTheme}\r\n        />\r\n      </Container>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default React.memo(AppHeader);\r\n","import React, { useCallback, useState } from 'react';\r\nimport { SideMenu, MenuProps, CategoryProps } from 'doif-react-kit';\r\nimport smallLogo from '../images/v-logo-small.png';\r\nimport bigLogo from '../images/v-logo-big.png';\r\nimport useAccessToken from '../hooks/useAccessToken';\r\nimport axios from 'axios';\r\n\r\ninterface AppMenuProps {\r\n  isFold: boolean;\r\n}\r\n\r\nfunction AppMenu({ isFold }: AppMenuProps) {\r\n  const [items, setItmes] = useState<Array<CategoryProps | MenuProps>>([]);\r\n\r\n  useAccessToken(\r\n    useCallback(() => {\r\n      axios.get('/api/side-menu').then((response) => {\r\n        setItmes(response.data.content);\r\n      });\r\n    }, []),\r\n  );\r\n\r\n  return (\r\n    <SideMenu\r\n      smallLogo={<img src={smallLogo} alt=\"로고\" />}\r\n      bigLogo={<img src={bigLogo} alt=\"로고\" />}\r\n      items={items}\r\n      isFold={isFold}\r\n    />\r\n  );\r\n}\r\n\r\nexport default React.memo(AppMenu);\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export const defaultValue = {\r\n  code: '',\r\n  name: '선택없음',\r\n};\r\n","import _ from 'lodash';\r\n\r\nexport default function mergeValid(valids: Array<any>) {\r\n  const merge = valids.reduce((acc, cur) => {\r\n    const copyAcc = { ...acc };\r\n    const copyCur = { ...cur };\r\n    return _.mergeWith(copyAcc, copyCur, (objValue: any, srcValue: any) =>\r\n      srcValue ? srcValue : objValue,\r\n    );\r\n  });\r\n\r\n  return merge;\r\n}\r\n","import { PageHeader } from 'doif-react-kit';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\ninterface PageHeaderInfoProps {\r\n  pageData: any;\r\n}\r\n\r\nfunction PageHeaderInfo({ pageData }: PageHeaderInfoProps) {\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Project V - {pageData.menuName}</title>\r\n      </Helmet>\r\n\r\n      <PageHeader menuName={pageData.menuName} menuList={pageData.menuList} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PageHeaderInfo;\r\n","import axios from 'axios';\r\nimport { Container } from 'doif-react-kit';\r\nimport { useReducer } from 'react';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport { dialogState, loadingState } from '../components/LoadingAndDialog';\r\n\r\n/**\r\n * post 요청 시 사용\r\n * @param url 요청 url\r\n * @param data request body에 넣을 데이터\r\n * @param params request url 매개 변수\r\n * @param headers request header에 넣을 데이터\r\n * @returns\r\n */\r\nexport async function postAction(\r\n  url: string,\r\n  data?: Object,\r\n  params?: Object,\r\n  headers?: Object,\r\n) {\r\n  const response = await axios.post(url, data, {\r\n    params: params,\r\n    headers: headers,\r\n  });\r\n  return response.data;\r\n}\r\n\r\n/**\r\n * put 요청 시 사용\r\n * @param url 요청 url\r\n * @param data request body에 넣을 데이터\r\n * @param params request url 매개 변수\r\n * @param headers request header에 넣을 데이터\r\n * @returns\r\n */\r\nexport async function putAction(\r\n  url: string,\r\n  data?: Object,\r\n  params?: Object,\r\n  headers?: Object,\r\n) {\r\n  const response = await axios.put(url, data, {\r\n    params: params,\r\n    headers: headers,\r\n  });\r\n  return response.data;\r\n}\r\n\r\n/**\r\n * delete 요청 시 사용\r\n * @param url 요청 url\r\n * @param params request url 매개 변수\r\n * @param headers request header에 넣을 데이터\r\n * @param data request body에 넣을 데이터\r\n * @returns\r\n */\r\nexport async function deleteAction(\r\n  url: string,\r\n  params?: Object,\r\n  headers?: Object,\r\n  data?: Object,\r\n) {\r\n  const response = await axios.delete(url, {\r\n    headers: headers,\r\n    params: params,\r\n    data: data,\r\n  });\r\n  return response.data;\r\n}\r\n\r\nfunction reducer(state: any, action: any) {\r\n  switch (action.type) {\r\n    case 'SUCCESS':\r\n      return {\r\n        data: action.data,\r\n        error: null,\r\n        validation: {},\r\n      };\r\n    case 'ERROR':\r\n      return {\r\n        data: null,\r\n        error: action.error,\r\n        validation: action.error.data.validationMap\r\n          ? action.error.data.validationMap\r\n          : {},\r\n      };\r\n    case 'CLEAN_VALIDATION':\r\n      return {\r\n        ...state,\r\n        validation: {},\r\n      };\r\n    default:\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n  }\r\n}\r\n\r\nexport type AsyncActionTypes = {\r\n  /** 비동기 요청 성공 시 콜백 */\r\n  onSuccess?: (data: any) => void;\r\n  /** 비동기 요청 실패 시 콜백 */\r\n  onError?: (data: any) => void;\r\n};\r\n\r\nfunction useAsyncAction(callback: Function, options?: AsyncActionTypes) {\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    data: null,\r\n    error: null,\r\n    validation: {},\r\n  });\r\n\r\n  const onSuccess = options?.onSuccess;\r\n  const onError = options?.onError;\r\n\r\n  const { data, error, validation } = state;\r\n\r\n  const setLoading = useSetRecoilState(loadingState);\r\n  const setDialog = useSetRecoilState(dialogState);\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const data = await callback();\r\n      dispatch({ type: 'SUCCESS', data });\r\n      setLoading(false);\r\n\r\n      setDialog(() => ({\r\n        visible: true,\r\n        type: 'success',\r\n        content: data.message,\r\n      }));\r\n\r\n      if (onSuccess) {\r\n        onSuccess(data);\r\n      }\r\n    } catch (error) {\r\n      dispatch({ type: 'ERROR', error: error.response });\r\n      setLoading(false);\r\n\r\n      if (onError) {\r\n        onError(error.response);\r\n      }\r\n\r\n      const errorCode = error.response.data.code;\r\n\r\n      // 2초 뒤에 validation clean 처리\r\n      setTimeout(() => dispatch({ type: 'CLEAN_VALIDATION' }), 2000);\r\n\r\n      console.error(error.response.data);\r\n\r\n      // validation 관련된 error가 아니라면 dialog 오픈\r\n      if (errorCode !== 'VALIDATION') {\r\n        setDialog(() => ({\r\n          visible: true,\r\n          type: 'error',\r\n          content: (\r\n            <Container direction=\"column\">\r\n              <div>오류가 발생하였습니다.</div>\r\n              <div>오류코드: {error.response.status}</div>\r\n              <div>오류메세지: {error.response.statusText}</div>\r\n            </Container>\r\n          ),\r\n        }));\r\n      }\r\n    }\r\n  };\r\n\r\n  return [fetchData, validation, data, error];\r\n}\r\n\r\nexport default useAsyncAction;\r\n","import axios from 'axios';\r\nimport { Container } from 'doif-react-kit';\r\nimport { useEffect, useReducer } from 'react';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport { dialogState, loadingState } from '../components/LoadingAndDialog';\r\n\r\n/**\r\n * get 요청 시 사용\r\n * @param url 요청 url\r\n * @param params request url 매개 변수\r\n * @param headers request header에 넣을 데이터\r\n * @param data request body에 넣을 데이터\r\n * @returns\r\n */\r\nexport async function getAction(\r\n  url: string,\r\n  params?: Object,\r\n  headers?: Object,\r\n  data?: Object,\r\n) {\r\n  const response = await axios.get(url, {\r\n    headers: headers,\r\n    params: params,\r\n    data: data,\r\n  });\r\n  return response.data;\r\n}\r\n\r\nfunction reducer(state: any, action: any) {\r\n  switch (action.type) {\r\n    case 'SUCCESS':\r\n      return {\r\n        data: action.data,\r\n        error: null,\r\n      };\r\n    case 'ERROR':\r\n      return {\r\n        data: null,\r\n        error: action.error,\r\n      };\r\n    default:\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n  }\r\n}\r\n\r\nexport type AsyncGetActionType = {\r\n  skip: boolean;\r\n  /** 비동기 요청 성공 시 콜백 */\r\n  onSuccess?: (data: any) => void;\r\n  /** 비동기 요청 실패 시 콜백 */\r\n  onError?: (data: any) => void;\r\n};\r\n\r\nfunction useAsyncGetAction(\r\n  callback: Function,\r\n  deps: Array<any> = [],\r\n  options: AsyncGetActionType = { skip: false },\r\n) {\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    data: null,\r\n    error: null,\r\n  });\r\n\r\n  const skip = options.skip;\r\n  const onSuccess = options.onSuccess;\r\n  const onError = options.onError;\r\n\r\n  const { data } = state;\r\n\r\n  const setLoading = useSetRecoilState(loadingState);\r\n  const setDialog = useSetRecoilState(dialogState);\r\n\r\n  const fetchData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const data = await callback();\r\n      dispatch({ type: 'SUCCESS', data });\r\n      setLoading(false);\r\n\r\n      if (onSuccess) {\r\n        onSuccess(data);\r\n      }\r\n    } catch (error) {\r\n      dispatch({ type: 'ERROR', error });\r\n      setLoading(false);\r\n\r\n      if (onError) {\r\n        onError(error.response);\r\n      }\r\n\r\n      setDialog(() => ({\r\n        visible: true,\r\n        type: 'error',\r\n        content: (\r\n          <Container direction=\"column\">\r\n            <div>오류가 발생하였습니다.</div>\r\n            <div>오류코드: {error.response.status}</div>\r\n            <div>오류메세지: {error.response.statusText}</div>\r\n          </Container>\r\n        ),\r\n      }));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (skip) return;\r\n    fetchData();\r\n    // eslint 설정을 다음 줄에서만 비활성화\r\n    // eslint-disable-next-line\r\n  }, deps);\r\n\r\n  return [data, fetchData];\r\n}\r\n\r\nexport default useAsyncGetAction;\r\n","import { Button, Icon } from 'doif-react-kit';\r\nimport React from 'react';\r\n\r\nexport interface ButtonInfoProps {\r\n  id: string;\r\n  disable?: boolean;\r\n  onClick?: (e: React.MouseEvent<HTMLButtonElement>) => void;\r\n}\r\n\r\nexport default function useButtons(\r\n  buttonMap: any,\r\n  buttons: Array<ButtonInfoProps>,\r\n) {\r\n  if (!buttonMap) {\r\n    return <></>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {buttons.map((button) => {\r\n        const buttonInfo = buttonMap[button.id];\r\n\r\n        if (!buttonInfo) {\r\n          return null;\r\n        }\r\n\r\n        const icon = buttonInfo.icon ? <Icon icon={buttonInfo.icon} /> : null;\r\n\r\n        return (\r\n          <Button\r\n            variant=\"ghost\"\r\n            key={button.id}\r\n            onClick={button.onClick}\r\n            disabled={button.disable}\r\n          >\r\n            {icon}\r\n            {buttonInfo.name}\r\n          </Button>\r\n        );\r\n      })}\r\n    </>\r\n  );\r\n}\r\n","import axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function useCodes(groupCode: string, pageData: any) {\r\n  const [codes, setCodes] = useState<any>([]);\r\n\r\n  useEffect(() => {\r\n    pageData &&\r\n      axios\r\n        .get('/api/codes', {\r\n          params: {\r\n            groupCode: groupCode,\r\n          },\r\n        })\r\n        .then((response) => setCodes(() => [...response.data]));\r\n  }, [pageData, groupCode]);\r\n\r\n  return [codes, setCodes];\r\n}\r\n","import { useMemo } from 'react';\r\n\r\n/**\r\n * pageData에서 LABEL 데이터 추출\r\n * { labelCode: labelName } 형태로 반환\r\n */\r\nexport default function useLabels(pageData: any) {\r\n  const labels = useMemo(() => {\r\n    if (!pageData) {\r\n      return {};\r\n    }\r\n\r\n    const labelMap: { [index: string]: string } = {};\r\n\r\n    for (const property in pageData.labelMap) {\r\n      labelMap[property] = pageData.labelMap[property].name;\r\n    }\r\n\r\n    return labelMap;\r\n  }, [pageData]);\r\n\r\n  return labels;\r\n}\r\n","import axios from 'axios';\r\nimport { useCallback, useEffect, useReducer } from 'react';\r\nimport { useSetRecoilState } from 'recoil';\r\nimport { responseStatusState } from '../pages/Index';\r\nimport { loadingState } from '../components/LoadingAndDialog';\r\n\r\nfunction reducer(state: any, action: any) {\r\n  switch (action.type) {\r\n    case 'SUCCESS':\r\n      return {\r\n        data: action.data,\r\n        error: null,\r\n      };\r\n    case 'ERROR':\r\n      return {\r\n        data: null,\r\n        error: action.error,\r\n      };\r\n    default:\r\n      throw new Error(`Unhandled action type: ${action.type}`);\r\n  }\r\n}\r\n\r\nexport default function usePage(url: string, onSuccess?: Function) {\r\n  const setResponseStatus = useSetRecoilState(responseStatusState);\r\n  const setLoading = useSetRecoilState(loadingState);\r\n  const [state, dispatch] = useReducer(reducer, {\r\n    data: null,\r\n    error: false,\r\n  });\r\n\r\n  const fetchPageData = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await axios.get('/token/access-token');\r\n\r\n      axios.defaults.headers.common['Authorization'] =\r\n        response.headers.authorization;\r\n\r\n      const responsePageData = await axios.get(url, {\r\n        params: {\r\n          menuPath: window.location.pathname,\r\n        },\r\n      });\r\n      axios.defaults.headers.common['pageId'] = responsePageData.data.pageId;\r\n\r\n      if (onSuccess) {\r\n        onSuccess();\r\n      }\r\n\r\n      dispatch({ type: 'SUCCESS', data: responsePageData.data });\r\n      setLoading(false);\r\n    } catch (error) {\r\n      setResponseStatus(error.response.status);\r\n      dispatch({ type: 'ERROR', error });\r\n      setLoading(false);\r\n    }\r\n  }, [url, onSuccess, setResponseStatus, setLoading]);\r\n\r\n  useEffect(() => {\r\n    fetchPageData();\r\n  }, [fetchPageData]);\r\n\r\n  return [state.data, state.error];\r\n}\r\n","import { TableModelProps } from 'doif-react-kit';\r\nimport { useMemo } from 'react';\r\n\r\nexport default function useTableModel(\r\n  data: TableModelProps[],\r\n  pageData: any,\r\n  deps: Array<any> = [],\r\n): TableModelProps[] {\r\n  const dependencies = [pageData].concat(deps);\r\n\r\n  const model: TableModelProps[] = useMemo(\r\n    () =>\r\n      data.map((el) => ({\r\n        ...el,\r\n        label: pageData\r\n          ? pageData.labelMap[el.label]\r\n            ? pageData.labelMap[el.label].name\r\n            : el.label\r\n          : el.label,\r\n      })),\r\n    // eslint 설정을 다음 줄에서만 비활성화\r\n    // eslint-disable-next-line\r\n    dependencies,\r\n  );\r\n\r\n  return model;\r\n}\r\n","import {\r\n  CloseButton,\r\n  Container,\r\n  DeleteDialog,\r\n  Form,\r\n  Icon,\r\n  iconTypes,\r\n  InFormContainer,\r\n  LabelInput,\r\n  LabelSelect,\r\n  Loading,\r\n  Modal,\r\n  Row,\r\n  SaveButton,\r\n  Table,\r\n  TableModelProps,\r\n  useChange,\r\n} from 'doif-react-kit';\r\nimport React, { FormEvent, useCallback, useState } from 'react';\r\nimport { defaultValue } from '../../../common/commonValue';\r\nimport mergeValid from '../../../common/mergeValid';\r\nimport PageHeaderInfo from '../../../components/PageHeaderInfo';\r\nimport useAsyncAction, {\r\n  deleteAction,\r\n  postAction,\r\n  putAction,\r\n} from '../../../hooks/useAsyncAction';\r\nimport useAsyncGetAction, { getAction } from '../../../hooks/useAsyncGetAction';\r\nimport useButtons, { ButtonInfoProps } from '../../../hooks/useButtons';\r\nimport useCodes from '../../../hooks/useCodes';\r\nimport useLabels from '../../../hooks/useLabels';\r\nimport usePage from '../../../hooks/usePage';\r\nimport useTableModel from '../../../hooks/useTableModel';\r\n\r\n// table row data\r\nlet pageRow: any = {};\r\nlet buttonRow: any = {};\r\n// button 클릭시 등록/수정 타입\r\nlet buttonType: string = '';\r\n\r\n/**\r\n * 라벨 자원 관리 페이지\r\n * @returns ResourceLabel\r\n */\r\nfunction ResourceButton() {\r\n  /******************************************************************\r\n   * 기본 데이터 및 state\r\n   *******************************************************************/\r\n  // 페이지 데이터 조회\r\n  const [pageData] = usePage('/api/pages/resources/button');\r\n  // 코드 조회\r\n  const [enableCodes]: any = useCodes('ENABLE_STATUS', pageData);\r\n\r\n  // 초기 페이지 상태\r\n  const initPageState = {\r\n    openModal: false,\r\n    disablePostButton: true,\r\n    disablePutDeleteButton: true,\r\n    openDeleteDialog: false,\r\n    disableItem: false,\r\n  };\r\n\r\n  // 페이지 상태\r\n  const [pageState, setPageState] = useState(initPageState);\r\n\r\n  // form 데이터\r\n  const [form, onChangeForm, replaceForm, resetForm] = useChange({\r\n    code: '',\r\n    name: '',\r\n    description: '',\r\n    status: 'ENABLE',\r\n    url: '',\r\n    httpMethod: '',\r\n    icon: '',\r\n  });\r\n\r\n  const { code, name, description, status, url, httpMethod, icon } = form;\r\n\r\n  // 라벨들\r\n  const {\r\n    LABEL_RESOURCE_BUTTON_CODE,\r\n    LABEL_RESOURCE_BUTTON_NAME,\r\n    LABEL_RESOURCE_BUTTON_DESCRIPTION,\r\n    LABEL_RESOURCE_BUTTON_STATUS,\r\n    LABEL_RESOURCE_BUTTON_URL,\r\n    LABEL_RESOURCE_BUTTON_HTTP_METHOD,\r\n    LABEL_RESOURCE_BUTTON_ICON,\r\n    LABEL_RESOURCE_BUTTON_CAPTION,\r\n    LABEL_RESOURCE_BUTTON_LIST,\r\n    LABEL_RESOURCE_BUTTON_PAGE_LIST,\r\n  } = useLabels(pageData);\r\n\r\n  // 페이지 테이블 model\r\n  const pageTableModel: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_RESOURCE_BUTTON_PAGE_CODE',\r\n        name: 'code',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_BUTTON_PAGE_NAME',\r\n        name: 'name',\r\n        width: 300,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'resourceId',\r\n        hidden: true,\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  // icon 데이터들\r\n  const iconCodes = iconTypes.map((icon) => ({\r\n    code: icon,\r\n    name: icon,\r\n    render: (\r\n      <Container>\r\n        <Icon icon={icon} />\r\n        <div>{icon}</div>\r\n      </Container>\r\n    ),\r\n  }));\r\n\r\n  // 라벨 테이블 model\r\n  const labelTableModel: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_RESOURCE_BUTTON_CODE',\r\n        name: 'code',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_BUTTON_NAME',\r\n        name: 'name',\r\n        width: 150,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_BUTTON_DESCRIPTION',\r\n        name: 'description',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_BUTTON_STATUS',\r\n        name: 'statusName',\r\n        width: 120,\r\n        formatter: (cellValue: any) => {\r\n          return cellValue.props.value === '가능' ? (\r\n            <span style={{ color: '#02c902' }}>{cellValue}</span>\r\n          ) : (\r\n            <span style={{ color: '#fc3d3d' }}>{cellValue}</span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_BUTTON_URL',\r\n        name: 'url',\r\n        width: 200,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_BUTTON_HTTP_METHOD',\r\n        name: 'httpMethod',\r\n        width: 100,\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_BUTTON_ICON',\r\n        name: 'icon',\r\n        width: 100,\r\n        formatter: (cellValue: any) => {\r\n          return cellValue.props.value &&\r\n            iconTypes.includes(cellValue.props.value) ? (\r\n            <Icon icon={cellValue.props.value} />\r\n          ) : (\r\n            cellValue\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'resourceId',\r\n        hidden: true,\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  /******************************************************************\r\n   * Action 함수들\r\n   ******************************************************************/\r\n\r\n  // 페이지 등록/수정/삭제 시 성공 콜백\r\n  const asyncSucCallback = () => {\r\n    setPageState((state) => ({\r\n      ...state,\r\n      openModal: false,\r\n      openDeleteDialog: false,\r\n      disablePutDeleteButton: true,\r\n    }));\r\n    getButtons();\r\n  };\r\n\r\n  // 페이지 데이터 조회\r\n  const [pages]: any = useAsyncGetAction(\r\n    () => pageData && getAction('/api/resources/pages'),\r\n    [pageData],\r\n    {\r\n      skip: false,\r\n      onSuccess: () => {\r\n        setPageState(initPageState);\r\n      },\r\n    },\r\n  );\r\n\r\n  // 버튼 데이터 조회\r\n  const [buttons, getButtons]: any = useAsyncGetAction(\r\n    () =>\r\n      pageData &&\r\n      getAction(`/api/resources/pages/${pageRow.resourceId}/buttons`),\r\n    [pageData],\r\n    {\r\n      skip: true,\r\n      onSuccess: () => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disablePostButton: false,\r\n        }));\r\n      },\r\n    },\r\n  );\r\n\r\n  // 버튼 등록\r\n  const [postButton, postButtonValid] = useAsyncAction(\r\n    () =>\r\n      postAction('/api/resources/buttons', {\r\n        ...form,\r\n        pageId: pageRow.resourceId,\r\n      }),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 버튼 수정\r\n  const [putButton, putButtonValid] = useAsyncAction(\r\n    () => putAction('/api/resources/buttons/' + buttonRow.resourceId, form),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 버튼 삭제\r\n  const [deleteButton] = useAsyncAction(\r\n    () => deleteAction('/api/resources/buttons/' + buttonRow.resourceId),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n      onError: () => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          openDeleteDialog: false,\r\n        }));\r\n      },\r\n    },\r\n  );\r\n\r\n  /******************************************************************\r\n   * 클라이언트 함수들\r\n   ******************************************************************/\r\n  // 테이블 버튼들\r\n  const buttonInfos: ButtonInfoProps[] = [\r\n    {\r\n      id: 'BTN_RESOURCE_BUTTON_ADD',\r\n      disable: pageState.disablePostButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: false,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'post';\r\n\r\n        resetForm();\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_RESOURCE_BUTTON_MODIFY',\r\n      disable: pageState.disablePutDeleteButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: true,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'put';\r\n\r\n        replaceForm({\r\n          name: buttonRow.name,\r\n          description: buttonRow.description,\r\n          status: buttonRow.status,\r\n          code: buttonRow.code,\r\n          url: buttonRow.url,\r\n          httpMethod: buttonRow.httpMethod,\r\n          icon: buttonRow.icon,\r\n          pageId: buttonRow.pageId,\r\n        });\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_RESOURCE_BUTTON_DELETE',\r\n      disable: pageState.disablePutDeleteButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({ ...state, openDeleteDialog: true }));\r\n      },\r\n    },\r\n  ];\r\n  const tableButtons = useButtons(pageData && pageData.buttonMap, buttonInfos);\r\n\r\n  // 페이지 자원 목록 테이블 select 시 콜백\r\n  const onSelectPageTableRow = useCallback(\r\n    (id: string, rowValue: any) => {\r\n      pageRow = rowValue;\r\n      setPageState((state) => ({\r\n        ...state,\r\n        disablePostButton: false,\r\n        disablePutDeleteButton: true,\r\n      }));\r\n\r\n      getButtons();\r\n    },\r\n    [getButtons],\r\n  );\r\n\r\n  // 버튼 자원 목록 테이블 select 시 콜백\r\n  const onSelectButtonTableRow = useCallback((id: string, rowValue: any) => {\r\n    buttonRow = rowValue;\r\n    setPageState((state) => ({\r\n      ...state,\r\n      disablePutDeleteButton: false,\r\n    }));\r\n  }, []);\r\n\r\n  // 버튼 저장\r\n  const onSaveButton = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if (buttonType === 'post') {\r\n      postButton();\r\n    } else if (buttonType === 'put') {\r\n      putButton();\r\n    }\r\n  };\r\n\r\n  // Validation\r\n  const buttonValid = mergeValid([postButtonValid, putButtonValid]);\r\n\r\n  // 페이지 데이터 로딩 전엔 Loading 표시\r\n  if (!pageData) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <DeleteDialog\r\n        visible={pageState.openDeleteDialog}\r\n        onConfirm={deleteButton}\r\n        onCancel={() =>\r\n          setPageState((state) => ({ ...state, openDeleteDialog: false }))\r\n        }\r\n      />\r\n\r\n      <PageHeaderInfo pageData={pageData} />\r\n\r\n      <Container>\r\n        <div style={{ width: '35%' }}>\r\n          <Table\r\n            caption={LABEL_RESOURCE_BUTTON_PAGE_LIST}\r\n            model={pageTableModel}\r\n            data={pages ? pages.content : []}\r\n            onSelectRow={onSelectPageTableRow}\r\n          />\r\n        </div>\r\n        <div style={{ width: '65%' }}>\r\n          <Table\r\n            caption={LABEL_RESOURCE_BUTTON_LIST}\r\n            buttons={tableButtons}\r\n            model={labelTableModel}\r\n            data={buttons ? buttons.content : []}\r\n            onSelectRow={onSelectButtonTableRow}\r\n          />\r\n        </div>\r\n      </Container>\r\n\r\n      <Modal\r\n        visible={pageState.openModal}\r\n        title={LABEL_RESOURCE_BUTTON_CAPTION}\r\n      >\r\n        <Form onSubmit={onSaveButton}>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_BUTTON_CODE}\r\n              value={code}\r\n              onChange={onChangeForm}\r\n              name=\"code\"\r\n              disabled={pageState.disableItem}\r\n              validation={buttonValid.code}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_BUTTON_NAME}\r\n              value={name}\r\n              onChange={onChangeForm}\r\n              name=\"name\"\r\n              validation={buttonValid.name}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              label={LABEL_RESOURCE_BUTTON_DESCRIPTION}\r\n              value={description}\r\n              onChange={onChangeForm}\r\n              name=\"description\"\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              required\r\n              label={LABEL_RESOURCE_BUTTON_HTTP_METHOD}\r\n              value={httpMethod}\r\n              onChange={onChangeForm}\r\n              defaultValue={defaultValue}\r\n              data={[\r\n                { code: 'GET', name: 'GET' },\r\n                { code: 'POST', name: 'POST' },\r\n                { code: 'PUT', name: 'PUT' },\r\n                { code: 'DELETE', name: 'DELETE' },\r\n              ]}\r\n              name=\"httpMethod\"\r\n              validation={buttonValid.httpMethod}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_BUTTON_URL}\r\n              value={url}\r\n              onChange={onChangeForm}\r\n              name=\"url\"\r\n              placeholder=\"'/api'로 시작해야 합니다.\"\r\n              validation={buttonValid.url}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              label={LABEL_RESOURCE_BUTTON_ICON}\r\n              data={iconCodes}\r\n              defaultValue={defaultValue}\r\n              value={icon}\r\n              onChange={onChangeForm}\r\n              name=\"icon\"\r\n              validation={buttonValid.icon}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              required\r\n              label={LABEL_RESOURCE_BUTTON_STATUS}\r\n              data={enableCodes}\r\n              defaultValue={defaultValue}\r\n              value={status}\r\n              onChange={onChangeForm}\r\n              name=\"status\"\r\n              validation={buttonValid.status}\r\n            />\r\n          </Row>\r\n          <InFormContainer>\r\n            <SaveButton />\r\n            <CloseButton\r\n              onClick={() =>\r\n                setPageState((state) => ({ ...state, openModal: false }))\r\n              }\r\n            />\r\n          </InFormContainer>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ResourceButton;\r\n","import {\r\n  CloseButton,\r\n  Container,\r\n  DeleteDialog,\r\n  Form,\r\n  InFormContainer,\r\n  LabelInput,\r\n  LabelSelect,\r\n  Loading,\r\n  Modal,\r\n  Row,\r\n  SaveButton,\r\n  Table,\r\n  TableModelProps,\r\n  useChange,\r\n} from 'doif-react-kit';\r\nimport React, { FormEvent, useCallback, useState } from 'react';\r\nimport mergeValid from '../../../common/mergeValid';\r\nimport PageHeaderInfo from '../../../components/PageHeaderInfo';\r\nimport useAsyncAction, {\r\n  deleteAction,\r\n  postAction,\r\n  putAction,\r\n} from '../../../hooks/useAsyncAction';\r\nimport useAsyncGetAction, { getAction } from '../../../hooks/useAsyncGetAction';\r\nimport useButtons, { ButtonInfoProps } from '../../../hooks/useButtons';\r\nimport useCodes from '../../../hooks/useCodes';\r\nimport useLabels from '../../../hooks/useLabels';\r\nimport usePage from '../../../hooks/usePage';\r\nimport useTableModel from '../../../hooks/useTableModel';\r\n\r\n// table row data\r\nlet pageRow: any = {};\r\nlet labelRow: any = {};\r\n// button 클릭시 등록/수정 타입\r\nlet buttonType: string = '';\r\n\r\n/**\r\n * 라벨 자원 관리 페이지\r\n * @returns ResourceLabel\r\n */\r\nfunction ResourceLabel() {\r\n  /******************************************************************\r\n   * 기본 데이터 및 state\r\n   *******************************************************************/\r\n  // 페이지 데이터 조회\r\n  const [pageData] = usePage('/api/pages/resources/label');\r\n  // 코드 조회\r\n  const [enableCodes]: any = useCodes('ENABLE_STATUS', pageData);\r\n\r\n  // 초기 페이지 상태\r\n  const initPageState = {\r\n    openModal: false,\r\n    disablePostButton: true,\r\n    disablePutDeleteButton: true,\r\n    openDeleteDialog: false,\r\n    disableItem: false,\r\n  };\r\n\r\n  // 페이지 상태\r\n  const [pageState, setPageState] = useState(initPageState);\r\n\r\n  // form 데이터\r\n  const [form, onChangeForm, replaceForm, resetForm] = useChange({\r\n    code: '',\r\n    name: '',\r\n    description: '',\r\n    status: 'ENABLE',\r\n  });\r\n\r\n  const { code, name, description, status } = form;\r\n\r\n  // 라벨들\r\n  const {\r\n    LABEL_RESOURCE_LABEL_CODE,\r\n    LABEL_RESOURCE_LABEL_NAME,\r\n    LABEL_RESOURCE_LABEL_DESCRIPTION,\r\n    LABEL_RESOURCE_LABEL_STATUS,\r\n    LABEL_RESOURCE_LABEL_CAPTION,\r\n    LABEL_RESOURCE_LABEL_LIST,\r\n    LABEL_RESOURCE_LABEL_PAGE_LIST,\r\n  } = useLabels(pageData);\r\n\r\n  // 페이지 테이블 model\r\n  const pageTableModel: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_RESOURCE_LABEL_PAGE_CODE',\r\n        name: 'code',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_LABEL_PAGE_NAME',\r\n        name: 'name',\r\n        width: 300,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'resourceId',\r\n        hidden: true,\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  // 라벨 테이블 model\r\n  const labelTableModel: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_RESOURCE_LABEL_CODE',\r\n        name: 'code',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_LABEL_NAME',\r\n        name: 'name',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_LABEL_DESCRIPTION',\r\n        name: 'description',\r\n        width: 300,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_LABEL_STATUS',\r\n        name: 'statusName',\r\n        width: 120,\r\n        formatter: (cellValue: any) => {\r\n          return cellValue.props.value === '가능' ? (\r\n            <span style={{ color: '#02c902' }}>{cellValue}</span>\r\n          ) : (\r\n            <span style={{ color: '#fc3d3d' }}>{cellValue}</span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'resourceId',\r\n        hidden: true,\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  /******************************************************************\r\n   * Action 함수들\r\n   ******************************************************************/\r\n\r\n  // 라벨 등록/수정/삭제 시 성공 콜백\r\n  const asyncSucCallback = () => {\r\n    setPageState((state) => ({\r\n      ...state,\r\n      openModal: false,\r\n      openDeleteDialog: false,\r\n      disablePutDeleteButton: true,\r\n    }));\r\n    getLabels();\r\n  };\r\n\r\n  // 페이지 데이터 조회\r\n  const [pages]: any = useAsyncGetAction(\r\n    () => pageData && getAction('/api/resources/pages'),\r\n    [pageData],\r\n    {\r\n      skip: false,\r\n      onSuccess: () => {\r\n        setPageState(initPageState);\r\n      },\r\n    },\r\n  );\r\n\r\n  // 라벨 데이터 조회\r\n  const [labels, getLabels]: any = useAsyncGetAction(\r\n    () =>\r\n      pageData &&\r\n      getAction(`/api/resources/pages/${pageRow.resourceId}/labels`),\r\n    [pageData],\r\n    {\r\n      skip: true,\r\n      onSuccess: () => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disablePostButton: false,\r\n        }));\r\n      },\r\n    },\r\n  );\r\n\r\n  // 라벨 등록\r\n  const [postLabel, postLabelValid] = useAsyncAction(\r\n    () =>\r\n      postAction('/api/resources/labels', {\r\n        ...form,\r\n        pageId: pageRow.resourceId,\r\n      }),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 라벨 수정\r\n  const [putLabel, putLabelValid] = useAsyncAction(\r\n    () => putAction('/api/resources/labels/' + labelRow.resourceId, form),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 라벨 삭제\r\n  const [deleteLabel] = useAsyncAction(\r\n    () => deleteAction('/api/resources/labels/' + labelRow.resourceId),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n      onError: () => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          openDeleteDialog: false,\r\n        }));\r\n      },\r\n    },\r\n  );\r\n\r\n  /******************************************************************\r\n   * 클라이언트 함수들\r\n   ******************************************************************/\r\n  // 테이블 버튼들\r\n  const buttonInfos: ButtonInfoProps[] = [\r\n    {\r\n      id: 'BTN_RESOURCE_LABEL_ADD',\r\n      disable: pageState.disablePostButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: false,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'post';\r\n\r\n        resetForm();\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_RESOURCE_LABEL_MODIFY',\r\n      disable: pageState.disablePutDeleteButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: true,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'put';\r\n\r\n        replaceForm({\r\n          name: labelRow.name,\r\n          description: labelRow.description,\r\n          status: labelRow.status,\r\n          code: labelRow.code,\r\n          pageId: labelRow.pageId,\r\n        });\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_RESOURCE_LABEL_DELETE',\r\n      disable: pageState.disablePutDeleteButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({ ...state, openDeleteDialog: true }));\r\n      },\r\n    },\r\n  ];\r\n  const buttons = useButtons(pageData && pageData.buttonMap, buttonInfos);\r\n\r\n  // 페이지 자원 목록 테이블 select 시 콜백\r\n  const onSelectPageTableRow = useCallback(\r\n    (id: string, rowValue: any) => {\r\n      pageRow = rowValue;\r\n      setPageState((state) => ({\r\n        ...state,\r\n        disablePostButton: false,\r\n        disablePutDeleteButton: true,\r\n      }));\r\n\r\n      getLabels();\r\n    },\r\n    [getLabels],\r\n  );\r\n\r\n  // 라벨 자원 목록 테이블 select 시 콜백\r\n  const onSelectLabelTableRow = useCallback((id: string, rowValue: any) => {\r\n    labelRow = rowValue;\r\n    setPageState((state) => ({\r\n      ...state,\r\n      disablePutDeleteButton: false,\r\n    }));\r\n  }, []);\r\n\r\n  // 라벨 저장\r\n  const onSaveLabel = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if (buttonType === 'post') {\r\n      postLabel();\r\n    } else if (buttonType === 'put') {\r\n      putLabel();\r\n    }\r\n  };\r\n\r\n  // 라벨 이름 blur 이벤트\r\n  const onBlurName = (e: React.FocusEvent<HTMLInputElement>) => {\r\n    if (!description) {\r\n      replaceForm({\r\n        ...form,\r\n        description: name,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Validation\r\n  const labelValid = mergeValid([postLabelValid, putLabelValid]);\r\n\r\n  // 페이지 데이터 로딩 전엔 Loading 표시\r\n  if (!pageData) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <DeleteDialog\r\n        visible={pageState.openDeleteDialog}\r\n        onConfirm={deleteLabel}\r\n        onCancel={() =>\r\n          setPageState((state) => ({ ...state, openDeleteDialog: false }))\r\n        }\r\n      />\r\n\r\n      <PageHeaderInfo pageData={pageData} />\r\n\r\n      <Container>\r\n        <div style={{ width: '35%' }}>\r\n          <Table\r\n            caption={LABEL_RESOURCE_LABEL_PAGE_LIST}\r\n            model={pageTableModel}\r\n            data={pages ? pages.content : []}\r\n            onSelectRow={onSelectPageTableRow}\r\n          />\r\n        </div>\r\n        <div style={{ width: '65%' }}>\r\n          <Table\r\n            caption={LABEL_RESOURCE_LABEL_LIST}\r\n            buttons={buttons}\r\n            model={labelTableModel}\r\n            data={labels ? labels.content : []}\r\n            onSelectRow={onSelectLabelTableRow}\r\n          />\r\n        </div>\r\n      </Container>\r\n\r\n      <Modal visible={pageState.openModal} title={LABEL_RESOURCE_LABEL_CAPTION}>\r\n        <Form onSubmit={onSaveLabel}>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_LABEL_CODE}\r\n              value={code}\r\n              onChange={onChangeForm}\r\n              name=\"code\"\r\n              disabled={pageState.disableItem}\r\n              validation={labelValid.code}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_LABEL_NAME}\r\n              value={name}\r\n              onChange={onChangeForm}\r\n              onBlur={onBlurName}\r\n              name=\"name\"\r\n              validation={labelValid.name}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              label={LABEL_RESOURCE_LABEL_DESCRIPTION}\r\n              value={description}\r\n              onChange={onChangeForm}\r\n              name=\"description\"\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              required\r\n              label={LABEL_RESOURCE_LABEL_STATUS}\r\n              data={enableCodes}\r\n              value={status}\r\n              onChange={onChangeForm}\r\n              name=\"status\"\r\n              validation={labelValid.status}\r\n            />\r\n          </Row>\r\n          <InFormContainer>\r\n            <SaveButton />\r\n            <CloseButton\r\n              onClick={() =>\r\n                setPageState((state) => ({ ...state, openModal: false }))\r\n              }\r\n            />\r\n          </InFormContainer>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ResourceLabel;\r\n","import {\r\n  CloseButton,\r\n  Container,\r\n  DeleteDialog,\r\n  Form,\r\n  Icon,\r\n  iconTypes,\r\n  InFormContainer,\r\n  LabelInput,\r\n  LabelSelect,\r\n  Loading,\r\n  Modal,\r\n  Row,\r\n  SaveButton,\r\n  SearchButton,\r\n  Table,\r\n  TableModelProps,\r\n  useChange,\r\n} from 'doif-react-kit';\r\nimport React, { FormEvent, useCallback, useState } from 'react';\r\nimport { defaultValue } from '../../../common/commonValue';\r\nimport mergeValid from '../../../common/mergeValid';\r\nimport PageHeaderInfo from '../../../components/PageHeaderInfo';\r\nimport useAsyncAction, {\r\n  deleteAction,\r\n  postAction,\r\n  putAction,\r\n} from '../../../hooks/useAsyncAction';\r\nimport useAsyncGetAction, { getAction } from '../../../hooks/useAsyncGetAction';\r\nimport useButtons, { ButtonInfoProps } from '../../../hooks/useButtons';\r\nimport useCodes from '../../../hooks/useCodes';\r\nimport useLabels from '../../../hooks/useLabels';\r\nimport usePage from '../../../hooks/usePage';\r\nimport useTableModel from '../../../hooks/useTableModel';\r\n\r\n// table row data\r\nlet row: any = {};\r\n// button 클릭시 등록/수정 타입\r\nlet buttonType: string = '';\r\n\r\n/**\r\n * 메뉴 자원 관리 페이지\r\n * @returns ResourceMenu\r\n */\r\nfunction ResourceMenu() {\r\n  /******************************************************************\r\n   * 기본 데이터 및 state\r\n   *******************************************************************/\r\n  // 페이지 데이터 조회\r\n  const [pageData] = usePage('/api/pages/resources/menu');\r\n  // 코드 조회\r\n  const [enableCodes]: any = useCodes('ENABLE_STATUS', pageData);\r\n  // 상위 카테고리 조회\r\n  const [hierarchyCategories, getHierarchyCategories]: any = useAsyncGetAction(\r\n    () =>\r\n      pageData && getAction('/api/resources/menu-categories/hierarchy-code'),\r\n    [pageData],\r\n  );\r\n\r\n  // 초기 페이지 상태\r\n  const initPageState = {\r\n    openMenuModal: false,\r\n    openCategoryModal: false,\r\n    disableMenuButton: true,\r\n    disableCategoryButton: true,\r\n    openDeleteMenuDialog: false,\r\n    openDeleteCategoryDialog: false,\r\n    disableMenuItem: false,\r\n    disableCategoryItem: false,\r\n  };\r\n\r\n  // 페이지 상태\r\n  const [pageState, setPageState] = useState(initPageState);\r\n\r\n  // menu form 데이터\r\n  const [menuForm, onChangeMenuForm, replaceMenuForm, resetMenuForm] =\r\n    useChange({\r\n      menuCode: '',\r\n      menuName: '',\r\n      menuDescription: '',\r\n      menuCategory: '',\r\n      menuUrl: '',\r\n      menuStatus: 'ENABLE',\r\n      menuIcon: '',\r\n      menuSort: '',\r\n    });\r\n\r\n  const {\r\n    menuCode,\r\n    menuName,\r\n    menuDescription,\r\n    menuCategory,\r\n    menuUrl,\r\n    menuStatus,\r\n    menuIcon,\r\n    menuSort,\r\n  } = menuForm;\r\n\r\n  // category form 데이터\r\n  const [\r\n    categoryForm,\r\n    onChangeCategoryForm,\r\n    replaceCategoryForm,\r\n    resetCategoryForm,\r\n  ] = useChange({\r\n    categoryCode: '',\r\n    categoryName: '',\r\n    categoryDescription: '',\r\n    categoryParent: '',\r\n    categoryStatus: 'ENABLE',\r\n    categoryIcon: '',\r\n    categorySort: '',\r\n  });\r\n\r\n  const {\r\n    categoryCode,\r\n    categoryName,\r\n    categoryDescription,\r\n    categoryParent,\r\n    categoryStatus,\r\n    categoryIcon,\r\n    categorySort,\r\n  } = categoryForm;\r\n\r\n  // 조회 해온 상위 카테고리 데이터 가공\r\n  const hierarchyCategoriesData = hierarchyCategories?.map(\r\n    ({ code, name, render }: any) => ({\r\n      code,\r\n      name,\r\n      render: (\r\n        <div style={{ paddingLeft: (render - 1) * 10 + 'px' }}>{name}</div>\r\n      ),\r\n    }),\r\n  );\r\n\r\n  // icon 데이터들\r\n  const iconCodes = iconTypes.map((icon) => ({\r\n    code: icon,\r\n    name: icon,\r\n    render: (\r\n      <Container>\r\n        <Icon icon={icon} />\r\n        <div>{icon}</div>\r\n      </Container>\r\n    ),\r\n  }));\r\n\r\n  // 라벨들\r\n  const {\r\n    LABEL_RESOURCE_MENU_CODE,\r\n    LABEL_RESOURCE_MENU_NAME,\r\n    LABEL_RESOURCE_MENU_DESCRIPTION,\r\n    LABEL_RESOURCE_MENU_STATUS,\r\n    LABEL_RESOURCE_MENU_URL,\r\n    LABEL_RESOURCE_MENU_ICON,\r\n    LABEL_RESOURCE_MENU_SORT,\r\n    LABEL_RESOURCE_MENU_PARENT_CATEGORY,\r\n    LABEL_RESOURCE_MENU_CAPTION,\r\n    LABEL_RESOURCE_MENU_LIST,\r\n    LABEL_RESOURCE_CATEGORY_NAME,\r\n    LABEL_RESOURCE_CATEGORY_CODE,\r\n    LABEL_RESOURCE_CATEGORY_CAPTION,\r\n  } = useLabels(pageData);\r\n\r\n  // 테이블 model\r\n  const model: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_RESOURCE_MENU_NAME',\r\n        name: 'name',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_MENU_CODE',\r\n        name: 'code',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_MENU_DESCRIPTION',\r\n        name: 'description',\r\n        width: 350,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_MENU_STATUS',\r\n        name: 'statusName',\r\n        width: 120,\r\n        formatter: (cellValue: any) => {\r\n          return cellValue.props.value === '가능' ? (\r\n            <span style={{ color: '#02c902' }}>{cellValue}</span>\r\n          ) : (\r\n            <span style={{ color: '#fc3d3d' }}>{cellValue}</span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_MENU_URL',\r\n        name: 'url',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_MENU_ICON',\r\n        name: 'icon',\r\n        width: 120,\r\n        formatter: (cellValue: any) => {\r\n          return cellValue.props.value &&\r\n            iconTypes.includes(cellValue.props.value) ? (\r\n            <Icon icon={cellValue.props.value} />\r\n          ) : (\r\n            cellValue\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_MENU_TYPE',\r\n        name: 'typeName',\r\n        width: 120,\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_MENU_SORT',\r\n        name: 'sort',\r\n        width: 100,\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'resourceId',\r\n        hidden: true,\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  /******************************************************************\r\n   * Action 함수들\r\n   ******************************************************************/\r\n  // menu request body 데이터\r\n  const menuReqBody = {\r\n    name: menuName,\r\n    description: menuDescription,\r\n    status: menuStatus,\r\n    code: menuCode,\r\n    menuCategoryId: menuCategory,\r\n    url: menuUrl,\r\n    icon: menuIcon,\r\n    sort: menuSort,\r\n  };\r\n\r\n  // 카테고리 Request Body 데이터\r\n  const categoryReqBody = {\r\n    name: categoryName,\r\n    description: categoryDescription,\r\n    status: categoryStatus,\r\n    code: categoryCode,\r\n    parentId: categoryParent,\r\n    sort: categorySort,\r\n    icon: categoryIcon,\r\n  };\r\n\r\n  // menu,category 등록/수정/삭제 시 성공 콜백\r\n  const asyncSucCallback = () => {\r\n    setPageState((state) => ({\r\n      ...state,\r\n      openMenuModal: false,\r\n      openDeleteMenuDialog: false,\r\n      openCategoryModal: false,\r\n      openDeleteCategoryDialog: false,\r\n    }));\r\n    getMenus();\r\n    getHierarchyCategories();\r\n  };\r\n\r\n  // error 핸들링 함수\r\n  const handleError = () => {\r\n    setPageState((state) => ({\r\n      ...state,\r\n      openDeleteMenuDialog: false,\r\n      openDeleteCategoryDialog: false,\r\n    }));\r\n  };\r\n\r\n  // menu,category 데이터 조회\r\n  const [menus, getMenus]: any = useAsyncGetAction(\r\n    () => pageData && getAction('/api/resources/menus'),\r\n    [pageData],\r\n    {\r\n      skip: false,\r\n      onSuccess: () => {\r\n        setPageState(initPageState);\r\n      },\r\n    },\r\n  );\r\n\r\n  // 메뉴 등록\r\n  const [postMenu, postMenuValid] = useAsyncAction(\r\n    () => postAction('/api/resources/menus', menuReqBody),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 메뉴 수정\r\n  const [putMenu, putMenuValid] = useAsyncAction(\r\n    () => putAction('/api/resources/menus/' + row.resourceId, menuReqBody),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 메뉴 삭제\r\n  const [deleteMenu] = useAsyncAction(\r\n    () => deleteAction('/api/resources/menus/' + row.resourceId),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n      onError: handleError,\r\n    },\r\n  );\r\n\r\n  // 카테고리 등록\r\n  const [postCategory, postCategoryValid] = useAsyncAction(\r\n    () => postAction('/api/resources/menu-categories', categoryReqBody),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 카테고리 수정\r\n  const [putCategory, putCategoryValid] = useAsyncAction(\r\n    () =>\r\n      putAction(\r\n        '/api/resources/menu-categories/' + row.resourceId,\r\n        categoryReqBody,\r\n      ),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 카테고리 삭제\r\n  const [deleteCategory] = useAsyncAction(\r\n    () => deleteAction('/api/resources/menu-categories/' + row.resourceId),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n      onError: handleError,\r\n    },\r\n  );\r\n\r\n  /******************************************************************\r\n   * 클라이언트 함수들\r\n   ******************************************************************/\r\n  // 테이블 버튼들\r\n  const buttonInfos: ButtonInfoProps[] = [\r\n    {\r\n      id: 'BTN_RESOURCE_MENU_ADD',\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableMenuItem: false,\r\n          openMenuModal: true,\r\n        }));\r\n        buttonType = 'post';\r\n\r\n        resetMenuForm();\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_RESOURCE_MENU_MODIFY',\r\n      disable: pageState.disableMenuButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableMenuItem: true,\r\n          openMenuModal: true,\r\n        }));\r\n        buttonType = 'put';\r\n\r\n        replaceMenuForm({\r\n          menuCode: row.code,\r\n          menuName: row.name,\r\n          menuDescription: row.description,\r\n          menuCategory: String(row.parentId),\r\n          menuUrl: row.url,\r\n          menuStatus: row.status,\r\n          menuIcon: row.icon,\r\n          menuSort: row.sort,\r\n        });\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_RESOURCE_MENU_DELETE',\r\n      disable: pageState.disableMenuButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({ ...state, openDeleteMenuDialog: true }));\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_RESOURCE_MENU_CATEGORY_ADD',\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableCategoryItem: false,\r\n          openCategoryModal: true,\r\n        }));\r\n        buttonType = 'post';\r\n\r\n        resetCategoryForm();\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_RESOURCE_MENU_CATEGORY_MODIFY',\r\n      disable: pageState.disableCategoryButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableCategoryItem: true,\r\n          openCategoryModal: true,\r\n        }));\r\n        buttonType = 'put';\r\n\r\n        replaceCategoryForm({\r\n          categoryCode: row.code,\r\n          categoryName: row.name,\r\n          categoryDescription: row.description,\r\n          categoryParent: String(row.parentId),\r\n          categoryStatus: row.status,\r\n          categoryIcon: row.icon,\r\n          categorySort: row.sort,\r\n        });\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_RESOURCE_MENU_CATEGORY_DELETE',\r\n      disable: pageState.disableCategoryButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({ ...state, openDeleteCategoryDialog: true }));\r\n      },\r\n    },\r\n  ];\r\n  const buttons = useButtons(pageData && pageData.buttonMap, buttonInfos);\r\n\r\n  // 테이블 select 시 콜백\r\n  const onSelectRow = useCallback((id: string, rowValue: any) => {\r\n    row = rowValue;\r\n    if (rowValue.type === 'MENU') {\r\n      setPageState((state) => ({\r\n        ...state,\r\n        disableMenuButton: false,\r\n        disableCategoryButton: true,\r\n      }));\r\n    } else {\r\n      setPageState((state) => ({\r\n        ...state,\r\n        disableMenuButton: true,\r\n        disableCategoryButton: false,\r\n      }));\r\n    }\r\n  }, []);\r\n\r\n  // 메뉴/카테고리 조회\r\n  const onSearchMenus = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    getMenus();\r\n  };\r\n\r\n  // 카테고리 저장\r\n  const onSaveCategory = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if (buttonType === 'post') {\r\n      postCategory();\r\n    } else if (buttonType === 'put') {\r\n      putCategory();\r\n    }\r\n  };\r\n\r\n  // 메뉴 저장\r\n  const onSaveMenu = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if (buttonType === 'post') {\r\n      postMenu();\r\n    } else if (buttonType === 'put') {\r\n      putMenu();\r\n    }\r\n  };\r\n\r\n  // Validation\r\n  const menuValid = mergeValid([postMenuValid, putMenuValid]);\r\n  const categoryValid = mergeValid([postCategoryValid, putCategoryValid]);\r\n\r\n  // 페이지 데이터 로딩 전엔 Loading 표시\r\n  if (!pageData) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <DeleteDialog\r\n        visible={pageState.openDeleteMenuDialog}\r\n        onConfirm={deleteMenu}\r\n        onCancel={() =>\r\n          setPageState((state) => ({ ...state, openDeleteMenuDialog: false }))\r\n        }\r\n      />\r\n      <DeleteDialog\r\n        visible={pageState.openDeleteCategoryDialog}\r\n        onConfirm={deleteCategory}\r\n        onCancel={() =>\r\n          setPageState((state) => ({\r\n            ...state,\r\n            openDeleteCategoryDialog: false,\r\n          }))\r\n        }\r\n      />\r\n\r\n      <PageHeaderInfo pageData={pageData} />\r\n\r\n      <Form onSubmit={onSearchMenus}>\r\n        <InFormContainer align=\"right\">\r\n          <SearchButton />\r\n        </InFormContainer>\r\n      </Form>\r\n\r\n      <Table\r\n        caption={LABEL_RESOURCE_MENU_LIST}\r\n        model={model}\r\n        buttons={buttons}\r\n        enableTreeTable\r\n        disableFilters\r\n        disableSortBy\r\n        data={menus ? menus.content : []}\r\n        onSelectRow={onSelectRow}\r\n      />\r\n\r\n      <Modal\r\n        visible={pageState.openMenuModal}\r\n        title={LABEL_RESOURCE_MENU_CAPTION}\r\n      >\r\n        <Form onSubmit={onSaveMenu}>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_MENU_CODE}\r\n              value={menuCode}\r\n              onChange={onChangeMenuForm}\r\n              name=\"menuCode\"\r\n              disabled={pageState.disableMenuItem}\r\n              validation={menuValid.code}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_MENU_NAME}\r\n              value={menuName}\r\n              onChange={onChangeMenuForm}\r\n              name=\"menuName\"\r\n              validation={menuValid.name}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              label={LABEL_RESOURCE_MENU_DESCRIPTION}\r\n              value={menuDescription}\r\n              onChange={onChangeMenuForm}\r\n              name=\"menuDescription\"\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_MENU_URL}\r\n              value={menuUrl}\r\n              onChange={onChangeMenuForm}\r\n              name=\"menuUrl\"\r\n              validation={menuValid.url}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              required\r\n              label={LABEL_RESOURCE_MENU_PARENT_CATEGORY}\r\n              data={hierarchyCategoriesData}\r\n              defaultValue={{ code: '', name: '최상위 카테고리' }}\r\n              value={menuCategory}\r\n              onChange={onChangeMenuForm}\r\n              name=\"menuCategory\"\r\n              disabled={pageState.disableMenuItem}\r\n              validation={menuValid.menuCategoryId}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              label={LABEL_RESOURCE_MENU_ICON}\r\n              defaultValue={defaultValue}\r\n              data={iconCodes}\r\n              value={menuIcon}\r\n              onChange={onChangeMenuForm}\r\n              name=\"menuIcon\"\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_MENU_SORT}\r\n              value={menuSort}\r\n              onChange={onChangeMenuForm}\r\n              name=\"menuSort\"\r\n              validation={menuValid.sort}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              required\r\n              label={LABEL_RESOURCE_MENU_STATUS}\r\n              data={enableCodes}\r\n              defaultValue={defaultValue}\r\n              value={menuStatus}\r\n              onChange={onChangeMenuForm}\r\n              name=\"menuStatus\"\r\n              validation={menuValid.status}\r\n            />\r\n          </Row>\r\n          <InFormContainer>\r\n            <SaveButton />\r\n            <CloseButton\r\n              onClick={() =>\r\n                setPageState((state) => ({ ...state, openMenuModal: false }))\r\n              }\r\n            />\r\n          </InFormContainer>\r\n        </Form>\r\n      </Modal>\r\n\r\n      <Modal\r\n        visible={pageState.openCategoryModal}\r\n        title={LABEL_RESOURCE_CATEGORY_CAPTION}\r\n      >\r\n        <Form onSubmit={onSaveCategory}>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_CATEGORY_CODE}\r\n              value={categoryCode}\r\n              onChange={onChangeCategoryForm}\r\n              disabled={pageState.disableCategoryItem}\r\n              name=\"categoryCode\"\r\n              validation={categoryValid.code}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_CATEGORY_NAME}\r\n              value={categoryName}\r\n              onChange={onChangeCategoryForm}\r\n              name=\"categoryName\"\r\n              validation={categoryValid.name}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              label={LABEL_RESOURCE_MENU_DESCRIPTION}\r\n              value={categoryDescription}\r\n              onChange={onChangeCategoryForm}\r\n              name=\"categoryDescription\"\r\n              validation={categoryValid.description}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              label={LABEL_RESOURCE_MENU_PARENT_CATEGORY}\r\n              data={hierarchyCategoriesData}\r\n              defaultValue={{ code: '', name: '최상위 카테고리' }}\r\n              value={categoryParent}\r\n              onChange={onChangeCategoryForm}\r\n              disabled={pageState.disableCategoryItem}\r\n              name=\"categoryParent\"\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              label={LABEL_RESOURCE_MENU_ICON}\r\n              defaultValue={defaultValue}\r\n              data={iconCodes}\r\n              value={categoryIcon}\r\n              onChange={onChangeCategoryForm}\r\n              name=\"categoryIcon\"\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_MENU_SORT}\r\n              value={categorySort}\r\n              onChange={onChangeCategoryForm}\r\n              name=\"categorySort\"\r\n              validation={categoryValid.sort}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              required\r\n              label={LABEL_RESOURCE_MENU_STATUS}\r\n              data={enableCodes}\r\n              defaultValue={defaultValue}\r\n              value={categoryStatus}\r\n              onChange={onChangeCategoryForm}\r\n              name=\"categoryStatus\"\r\n              validation={categoryValid.status}\r\n            />\r\n          </Row>\r\n          <InFormContainer>\r\n            <SaveButton />\r\n            <CloseButton\r\n              onClick={() =>\r\n                setPageState((state) => ({\r\n                  ...state,\r\n                  openCategoryModal: false,\r\n                }))\r\n              }\r\n            />\r\n          </InFormContainer>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ResourceMenu;\r\n","import {\r\n  CloseButton,\r\n  DeleteDialog,\r\n  Form,\r\n  InFormContainer,\r\n  LabelInput,\r\n  LabelSelect,\r\n  Loading,\r\n  Modal,\r\n  Row,\r\n  SaveButton,\r\n  Table,\r\n  TableModelProps,\r\n  useChange,\r\n} from 'doif-react-kit';\r\nimport { FormEvent, useCallback, useState } from 'react';\r\nimport { defaultValue } from '../../../common/commonValue';\r\nimport mergeValid from '../../../common/mergeValid';\r\nimport PageHeaderInfo from '../../../components/PageHeaderInfo';\r\nimport useAsyncAction, {\r\n  deleteAction,\r\n  postAction,\r\n  putAction,\r\n} from '../../../hooks/useAsyncAction';\r\nimport useAsyncGetAction, { getAction } from '../../../hooks/useAsyncGetAction';\r\nimport useButtons, { ButtonInfoProps } from '../../../hooks/useButtons';\r\nimport useCodes from '../../../hooks/useCodes';\r\nimport useLabels from '../../../hooks/useLabels';\r\nimport usePage from '../../../hooks/usePage';\r\nimport useTableModel from '../../../hooks/useTableModel';\r\n\r\n// table row data\r\nlet row: any = {};\r\n// button 클릭시 등록/수정 타입\r\nlet buttonType: string = '';\r\n\r\n/**\r\n * 메세지 자원 관리 페이지\r\n * @returns ResourceMessage\r\n */\r\nfunction ResourceMessage() {\r\n  /******************************************************************\r\n   * 기본 데이터 및 state\r\n   *******************************************************************/\r\n  // 페이지 데이터 조회\r\n  const [pageData] = usePage('/api/pages/resources/message');\r\n  // 코드 조회\r\n  const [enableCodes]: any = useCodes('ENABLE_STATUS', pageData);\r\n  // 코드 조회\r\n  const [messageTypes]: any = useCodes('MESSAGE_TYPE', pageData);\r\n\r\n  // 초기 페이지 상태\r\n  const initPageState = {\r\n    openModal: false,\r\n    disableButton: true,\r\n    openDeleteDialog: false,\r\n    disableItem: false,\r\n  };\r\n\r\n  // 페이지 상태\r\n  const [pageState, setPageState] = useState(initPageState);\r\n\r\n  // form 데이터\r\n  const [form, onChangeForm, replaceForm, resetForm] = useChange({\r\n    code: '',\r\n    name: '',\r\n    description: '',\r\n    type: '',\r\n    status: 'ENABLE',\r\n  });\r\n\r\n  const { code, name, description, type, status } = form;\r\n\r\n  // 라벨들\r\n  const {\r\n    LABEL_RESOURCE_MESSAGE_CODE,\r\n    LABEL_RESOURCE_MESSAGE_NAME,\r\n    LABEL_RESOURCE_MESSAGE_DESCRIPTION,\r\n    LABEL_RESOURCE_MESSAGE_STATUS,\r\n    LABEL_RESOURCE_MESSAGE_TYPE,\r\n    LABEL_RESOURCE_MESSAGE_LIST,\r\n    LABEL_RESOURCE_MESSAGE_CAPTION,\r\n  } = useLabels(pageData);\r\n\r\n  // 테이블 model\r\n  const model: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_RESOURCE_MESSAGE_CODE',\r\n        name: 'code',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_MESSAGE_NAME',\r\n        name: 'name',\r\n        width: 500,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_MESSAGE_DESCRIPTION',\r\n        name: 'description',\r\n        width: 500,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_MESSAGE_STATUS',\r\n        name: 'statusName',\r\n        width: 120,\r\n        formatter: (cellValue: any) => {\r\n          return cellValue.props.value === '가능' ? (\r\n            <span style={{ color: '#02c902' }}>{cellValue}</span>\r\n          ) : (\r\n            <span style={{ color: '#fc3d3d' }}>{cellValue}</span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_MESSAGE_TYPE',\r\n        name: 'typeName',\r\n        width: 120,\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'resourceId',\r\n        hidden: true,\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  /******************************************************************\r\n   * Action 함수들\r\n   ******************************************************************/\r\n\r\n  // 메세지 등록/수정/삭제 시 성공 콜백\r\n  const asyncSucCallback = () => {\r\n    setPageState((state) => ({\r\n      ...state,\r\n      openModal: false,\r\n      openDeleteDialog: false,\r\n    }));\r\n    getMessages();\r\n  };\r\n\r\n  // 메세지 데이터 조회\r\n  const [messages, getMessages]: any = useAsyncGetAction(\r\n    () => pageData && getAction('/api/resources/messages'),\r\n    [pageData],\r\n    {\r\n      skip: false,\r\n      onSuccess: () => {\r\n        setPageState(initPageState);\r\n      },\r\n    },\r\n  );\r\n\r\n  // 메세지 등록\r\n  const [postMessage, postMessageValid] = useAsyncAction(\r\n    () => postAction('/api/resources/messages', form),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 페이지 수정\r\n  const [putMessage, putMessageValid] = useAsyncAction(\r\n    () => putAction('/api/resources/messages/' + row.resourceId, form),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 페이지 삭제\r\n  const [deleteMessage] = useAsyncAction(\r\n    () => deleteAction('/api/resources/messages/' + row.resourceId),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n      onError: () => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          openDeleteDialog: false,\r\n        }));\r\n      },\r\n    },\r\n  );\r\n\r\n  /******************************************************************\r\n   * 클라이언트 함수들\r\n   ******************************************************************/\r\n  // 테이블 버튼들\r\n  const buttonInfos: ButtonInfoProps[] = [\r\n    {\r\n      id: 'BTN_RESOURCE_MESSAGE_ADD',\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: false,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'post';\r\n\r\n        resetForm();\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_RESOURCE_MESSAGE_MODIFY',\r\n      disable: pageState.disableButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: true,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'put';\r\n\r\n        replaceForm({\r\n          name: row.name,\r\n          description: row.description,\r\n          status: row.status,\r\n          code: row.code,\r\n          type: row.type,\r\n        });\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_RESOURCE_MESSAGE_DELETE',\r\n      disable: pageState.disableButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({ ...state, openDeleteDialog: true }));\r\n      },\r\n    },\r\n  ];\r\n  const buttons = useButtons(pageData && pageData.buttonMap, buttonInfos);\r\n\r\n  // 테이블 select 시 콜백\r\n  const onSelectRow = useCallback((id: string, rowValue: any) => {\r\n    row = rowValue;\r\n    setPageState((state) => ({\r\n      ...state,\r\n      disableButton: false,\r\n    }));\r\n  }, []);\r\n\r\n  // 메세지 저장\r\n  const onSaveMessage = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if (buttonType === 'post') {\r\n      postMessage();\r\n    } else if (buttonType === 'put') {\r\n      putMessage();\r\n    }\r\n  };\r\n\r\n  // 메세지 이름 blur 이벤트\r\n  const onBlurName = (e: React.FocusEvent<HTMLInputElement>) => {\r\n    if (!description) {\r\n      replaceForm({\r\n        ...form,\r\n        description: name,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Validation\r\n  const messageValid = mergeValid([postMessageValid, putMessageValid]);\r\n\r\n  // 페이지 데이터 로딩 전엔 Loading 표시\r\n  if (!pageData) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <DeleteDialog\r\n        visible={pageState.openDeleteDialog}\r\n        onConfirm={deleteMessage}\r\n        onCancel={() =>\r\n          setPageState((state) => ({ ...state, openDeleteDialog: false }))\r\n        }\r\n      />\r\n\r\n      <PageHeaderInfo pageData={pageData} />\r\n\r\n      <Table\r\n        caption={LABEL_RESOURCE_MESSAGE_LIST}\r\n        model={model}\r\n        buttons={buttons}\r\n        data={messages ? messages.content : []}\r\n        onSelectRow={onSelectRow}\r\n      />\r\n\r\n      <Modal\r\n        visible={pageState.openModal}\r\n        title={LABEL_RESOURCE_MESSAGE_CAPTION}\r\n      >\r\n        <Form onSubmit={onSaveMessage}>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_MESSAGE_CODE}\r\n              value={code}\r\n              onChange={onChangeForm}\r\n              name=\"code\"\r\n              disabled={pageState.disableItem}\r\n              validation={messageValid.code}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_MESSAGE_NAME}\r\n              value={name}\r\n              onChange={onChangeForm}\r\n              onBlur={onBlurName}\r\n              name=\"name\"\r\n              validation={messageValid.name}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              label={LABEL_RESOURCE_MESSAGE_DESCRIPTION}\r\n              value={description}\r\n              onChange={onChangeForm}\r\n              name=\"description\"\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              required\r\n              label={LABEL_RESOURCE_MESSAGE_TYPE}\r\n              data={messageTypes}\r\n              value={type}\r\n              defaultValue={defaultValue}\r\n              onChange={onChangeForm}\r\n              name=\"type\"\r\n              validation={messageValid.type}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              required\r\n              label={LABEL_RESOURCE_MESSAGE_STATUS}\r\n              data={enableCodes}\r\n              defaultValue={defaultValue}\r\n              value={status}\r\n              onChange={onChangeForm}\r\n              name=\"status\"\r\n              validation={messageValid.status}\r\n            />\r\n          </Row>\r\n          <InFormContainer>\r\n            <SaveButton />\r\n            <CloseButton\r\n              onClick={() =>\r\n                setPageState((state) => ({ ...state, openModal: false }))\r\n              }\r\n            />\r\n          </InFormContainer>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ResourceMessage;\r\n","import {\r\n  CloseButton,\r\n  DeleteDialog,\r\n  Form,\r\n  InFormContainer,\r\n  LabelInput,\r\n  LabelSelect,\r\n  Loading,\r\n  Modal,\r\n  Row,\r\n  SaveButton,\r\n  Table,\r\n  TableModelProps,\r\n  useChange,\r\n} from 'doif-react-kit';\r\nimport React, { FormEvent, useCallback, useState } from 'react';\r\nimport { defaultValue } from '../../../common/commonValue';\r\nimport mergeValid from '../../../common/mergeValid';\r\nimport PageHeaderInfo from '../../../components/PageHeaderInfo';\r\nimport useAsyncAction, {\r\n  deleteAction,\r\n  postAction,\r\n  putAction,\r\n} from '../../../hooks/useAsyncAction';\r\nimport useAsyncGetAction, { getAction } from '../../../hooks/useAsyncGetAction';\r\nimport useButtons, { ButtonInfoProps } from '../../../hooks/useButtons';\r\nimport useCodes from '../../../hooks/useCodes';\r\nimport useLabels from '../../../hooks/useLabels';\r\nimport usePage from '../../../hooks/usePage';\r\nimport useTableModel from '../../../hooks/useTableModel';\r\n\r\n// table row data\r\nlet row: any = {};\r\n// button 클릭시 등록/수정 타입\r\nlet buttonType: string = '';\r\n\r\n/**\r\n * 페이지 자원 관리 페이지\r\n * @returns ResourcePage\r\n */\r\nfunction ResourcePage() {\r\n  /******************************************************************\r\n   * 기본 데이터 및 state\r\n   *******************************************************************/\r\n  // 페이지 데이터 조회\r\n  const [pageData] = usePage('/api/pages/resources/page');\r\n  // 코드 조회\r\n  const [enableCodes]: any = useCodes('ENABLE_STATUS', pageData);\r\n\r\n  // 초기 페이지 상태\r\n  const initPageState = {\r\n    openModal: false,\r\n    disableButton: true,\r\n    openDeleteDialog: false,\r\n    disableItem: false,\r\n  };\r\n\r\n  // 페이지 상태\r\n  const [pageState, setPageState] = useState(initPageState);\r\n\r\n  // form 데이터\r\n  const [form, onChangeForm, replaceForm, resetForm] = useChange({\r\n    code: '',\r\n    name: '',\r\n    description: '',\r\n    url: '',\r\n    status: 'ENABLE',\r\n  });\r\n\r\n  const { code, name, description, url, status } = form;\r\n\r\n  // 라벨들\r\n  const {\r\n    LABEL_RESOURCE_PAGE_CODE,\r\n    LABEL_RESOURCE_PAGE_NAME,\r\n    LABEL_RESOURCE_PAGE_DESCRIPTION,\r\n    LABEL_RESOURCE_PAGE_STATUS,\r\n    LABEL_RESOURCE_PAGE_URL,\r\n    LABEL_RESOURCE_PAGE_LIST,\r\n    LABEL_RESOURCE_PAGE_CAPTION,\r\n  } = useLabels(pageData);\r\n\r\n  // 테이블 model\r\n  const model: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_RESOURCE_PAGE_CODE',\r\n        name: 'code',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_PAGE_NAME',\r\n        name: 'name',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_PAGE_DESCRIPTION',\r\n        name: 'description',\r\n        width: 450,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_PAGE_STATUS',\r\n        name: 'statusName',\r\n        width: 120,\r\n        formatter: (cellValue: any) => {\r\n          return cellValue.props.value === '가능' ? (\r\n            <span style={{ color: '#02c902' }}>{cellValue}</span>\r\n          ) : (\r\n            <span style={{ color: '#fc3d3d' }}>{cellValue}</span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_PAGE_URL',\r\n        name: 'url',\r\n        width: 350,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'resourceId',\r\n        hidden: true,\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  /******************************************************************\r\n   * Action 함수들\r\n   ******************************************************************/\r\n\r\n  // 페이지 등록/수정/삭제 시 성공 콜백\r\n  const asyncSucCallback = () => {\r\n    setPageState((state) => ({\r\n      ...state,\r\n      openModal: false,\r\n      openDeleteDialog: false,\r\n    }));\r\n    getPages();\r\n  };\r\n\r\n  // 페이지 데이터 조회\r\n  const [pages, getPages]: any = useAsyncGetAction(\r\n    () => pageData && getAction('/api/resources/pages'),\r\n    [pageData],\r\n    {\r\n      skip: false,\r\n      onSuccess: () => {\r\n        setPageState(initPageState);\r\n      },\r\n    },\r\n  );\r\n\r\n  // 페이지 등록\r\n  const [postPage, postPageValid] = useAsyncAction(\r\n    () => postAction('/api/resources/pages', form),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 페이지 수정\r\n  const [putPage, putPageValid] = useAsyncAction(\r\n    () => putAction('/api/resources/pages/' + row.resourceId, form),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 페이지 삭제\r\n  const [deletePage] = useAsyncAction(\r\n    () => deleteAction('/api/resources/pages/' + row.resourceId),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n      onError: () => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          openDeleteDialog: false,\r\n        }));\r\n      },\r\n    },\r\n  );\r\n\r\n  /******************************************************************\r\n   * 클라이언트 함수들\r\n   ******************************************************************/\r\n  // 테이블 버튼들\r\n  const buttonInfos: ButtonInfoProps[] = [\r\n    {\r\n      id: 'BTN_RESOURCE_PAGE_ADD',\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: false,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'post';\r\n\r\n        resetForm();\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_RESOURCE_PAGE_MODIFY',\r\n      disable: pageState.disableButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: true,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'put';\r\n\r\n        replaceForm({\r\n          name: row.name,\r\n          description: row.description,\r\n          status: row.status,\r\n          code: row.code,\r\n          url: row.url,\r\n        });\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_RESOURCE_PAGE_DELETE',\r\n      disable: pageState.disableButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({ ...state, openDeleteDialog: true }));\r\n      },\r\n    },\r\n  ];\r\n  const buttons = useButtons(pageData && pageData.buttonMap, buttonInfos);\r\n\r\n  // 테이블 select 시 콜백\r\n  const onSelectRow = useCallback((id: string, rowValue: any) => {\r\n    row = rowValue;\r\n    setPageState((state) => ({\r\n      ...state,\r\n      disableButton: false,\r\n    }));\r\n  }, []);\r\n\r\n  // 페이지 저장\r\n  const onSavePage = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if (buttonType === 'post') {\r\n      postPage();\r\n    } else if (buttonType === 'put') {\r\n      putPage();\r\n    }\r\n  };\r\n\r\n  // Validation\r\n  const pageValid = mergeValid([postPageValid, putPageValid]);\r\n\r\n  // 페이지 데이터 로딩 전엔 Loading 표시\r\n  if (!pageData) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <DeleteDialog\r\n        visible={pageState.openDeleteDialog}\r\n        onConfirm={deletePage}\r\n        onCancel={() =>\r\n          setPageState((state) => ({ ...state, openDeleteDialog: false }))\r\n        }\r\n      />\r\n\r\n      <PageHeaderInfo pageData={pageData} />\r\n\r\n      <Table\r\n        caption={LABEL_RESOURCE_PAGE_LIST}\r\n        model={model}\r\n        buttons={buttons}\r\n        data={pages ? pages.content : []}\r\n        onSelectRow={onSelectRow}\r\n      />\r\n\r\n      <Modal visible={pageState.openModal} title={LABEL_RESOURCE_PAGE_CAPTION}>\r\n        <Form onSubmit={onSavePage}>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_PAGE_CODE}\r\n              value={code}\r\n              onChange={onChangeForm}\r\n              name=\"code\"\r\n              disabled={pageState.disableItem}\r\n              validation={pageValid.code}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_PAGE_NAME}\r\n              value={name}\r\n              onChange={onChangeForm}\r\n              name=\"name\"\r\n              validation={pageValid.name}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              label={LABEL_RESOURCE_PAGE_DESCRIPTION}\r\n              value={description}\r\n              onChange={onChangeForm}\r\n              name=\"description\"\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_PAGE_URL}\r\n              value={url}\r\n              onChange={onChangeForm}\r\n              name=\"url\"\r\n              validation={pageValid.url}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              required\r\n              label={LABEL_RESOURCE_PAGE_STATUS}\r\n              data={enableCodes}\r\n              defaultValue={defaultValue}\r\n              value={status}\r\n              onChange={onChangeForm}\r\n              name=\"status\"\r\n              validation={pageValid.status}\r\n            />\r\n          </Row>\r\n          <InFormContainer>\r\n            <SaveButton />\r\n            <CloseButton\r\n              onClick={() =>\r\n                setPageState((state) => ({ ...state, openModal: false }))\r\n              }\r\n            />\r\n          </InFormContainer>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ResourcePage;\r\n","import {\r\n  CloseButton,\r\n  Container,\r\n  DeleteDialog,\r\n  Form,\r\n  InFormContainer,\r\n  LabelInput,\r\n  LabelSelect,\r\n  Loading,\r\n  Modal,\r\n  Row,\r\n  SaveButton,\r\n  Table,\r\n  TableModelProps,\r\n  useChange,\r\n} from 'doif-react-kit';\r\nimport { FormEvent, useCallback, useState } from 'react';\r\nimport mergeValid from '../../../common/mergeValid';\r\nimport PageHeaderInfo from '../../../components/PageHeaderInfo';\r\nimport useAsyncAction, {\r\n  deleteAction,\r\n  postAction,\r\n  putAction,\r\n} from '../../../hooks/useAsyncAction';\r\nimport useAsyncGetAction, { getAction } from '../../../hooks/useAsyncGetAction';\r\nimport useButtons, { ButtonInfoProps } from '../../../hooks/useButtons';\r\nimport useCodes from '../../../hooks/useCodes';\r\nimport useLabels from '../../../hooks/useLabels';\r\nimport usePage from '../../../hooks/usePage';\r\nimport useTableModel from '../../../hooks/useTableModel';\r\n\r\n// table row data\r\nlet pageRow: any = {};\r\nlet tabRow: any = {};\r\n// button 클릭시 등록/수정 타입\r\nlet buttonType: string = '';\r\n\r\n/**\r\n * 라벨 자원 관리 페이지\r\n * @returns ResourceTab\r\n */\r\nfunction ResourceTab() {\r\n  /******************************************************************\r\n   * 기본 데이터 및 state\r\n   *******************************************************************/\r\n  // 페이지 데이터 조회\r\n  const [pageData] = usePage('/api/pages/resources/tab');\r\n  // 코드 조회\r\n  const [enableCodes]: any = useCodes('ENABLE_STATUS', pageData);\r\n\r\n  // 초기 페이지 상태\r\n  const initPageState = {\r\n    openModal: false,\r\n    disablePostButton: true,\r\n    disablePutDeleteButton: true,\r\n    openDeleteDialog: false,\r\n    disableItem: false,\r\n  };\r\n\r\n  // 페이지 상태\r\n  const [pageState, setPageState] = useState(initPageState);\r\n\r\n  // form 데이터\r\n  const [form, onChangeForm, replaceForm, resetForm] = useChange({\r\n    code: '',\r\n    name: '',\r\n    description: '',\r\n    status: 'ENABLE',\r\n    url: '',\r\n    sort: '',\r\n    tabGroup: '',\r\n  });\r\n\r\n  const { code, name, description, status, url, sort, tabGroup } = form;\r\n\r\n  // 라벨들\r\n  const {\r\n    LABEL_RESOURCE_TAB_CODE,\r\n    LABEL_RESOURCE_TAB_NAME,\r\n    LABEL_RESOURCE_TAB_DESCRIPTION,\r\n    LABEL_RESOURCE_TAB_STATUS,\r\n    LABEL_RESOURCE_TAB_URL,\r\n    LABEL_RESOURCE_TAB_SORT,\r\n    LABEL_RESOURCE_TAB_GROUP,\r\n    LABEL_RESOURCE_TAB_CAPTION,\r\n    LABEL_RESOURCE_TAB_LIST,\r\n    LABEL_RESOURCE_TAB_PAGE_LIST,\r\n  } = useLabels(pageData);\r\n\r\n  // 페이지 테이블 model\r\n  const pageTableModel: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_RESOURCE_TAB_PAGE_CODE',\r\n        name: 'code',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_TAB_PAGE_NAME',\r\n        name: 'name',\r\n        width: 300,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'resourceId',\r\n        hidden: true,\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  // 탭 테이블 model\r\n  const labelTableModel: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_RESOURCE_TAB_CODE',\r\n        name: 'code',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_TAB_NAME',\r\n        name: 'name',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_TAB_DESCRIPTION',\r\n        name: 'description',\r\n        width: 300,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_TAB_STATUS',\r\n        name: 'statusName',\r\n        width: 120,\r\n        formatter: (cellValue: any) => {\r\n          return cellValue.props.value === '가능' ? (\r\n            <span style={{ color: '#02c902' }}>{cellValue}</span>\r\n          ) : (\r\n            <span style={{ color: '#fc3d3d' }}>{cellValue}</span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_TAB_URL',\r\n        name: 'url',\r\n        width: 200,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_TAB_GROUP',\r\n        name: 'tabGroup',\r\n        width: 120,\r\n      },\r\n      {\r\n        label: 'LABEL_RESOURCE_TAB_SORT',\r\n        name: 'sort',\r\n        width: 80,\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'httpMethod',\r\n        hidden: true,\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'resourceId',\r\n        hidden: true,\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  /******************************************************************\r\n   * Action 함수들\r\n   ******************************************************************/\r\n\r\n  // 라벨 등록/수정/삭제 시 성공 콜백\r\n  const asyncSucCallback = () => {\r\n    setPageState((state) => ({\r\n      ...state,\r\n      openModal: false,\r\n      openDeleteDialog: false,\r\n      disablePutDeleteButton: true,\r\n    }));\r\n    getTabs();\r\n  };\r\n\r\n  // 페이지 데이터 조회\r\n  const [pages]: any = useAsyncGetAction(\r\n    () => pageData && getAction('/api/resources/pages'),\r\n    [pageData],\r\n    {\r\n      skip: false,\r\n      onSuccess: () => {\r\n        setPageState(initPageState);\r\n      },\r\n    },\r\n  );\r\n\r\n  // 탭 데이터 조회\r\n  const [tabs, getTabs]: any = useAsyncGetAction(\r\n    () =>\r\n      pageData && getAction(`/api/resources/pages/${pageRow.resourceId}/tabs`),\r\n    [pageData],\r\n    {\r\n      skip: true,\r\n      onSuccess: () => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disablePostButton: false,\r\n        }));\r\n      },\r\n    },\r\n  );\r\n\r\n  // 탭 등록\r\n  const [postTab, postTabValid] = useAsyncAction(\r\n    () =>\r\n      postAction('/api/resources/tabs', {\r\n        ...form,\r\n        pageId: pageRow.resourceId,\r\n        httpMethod: 'GET',\r\n      }),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 탭 수정\r\n  const [putTab, putTabValid] = useAsyncAction(\r\n    () => putAction('/api/resources/tabs/' + tabRow.resourceId, form),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 탭 삭제\r\n  const [deleteTab] = useAsyncAction(\r\n    () => deleteAction('/api/resources/tabs/' + tabRow.resourceId),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n      onError: () => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          openDeleteDialog: false,\r\n        }));\r\n      },\r\n    },\r\n  );\r\n\r\n  /******************************************************************\r\n   * 클라이언트 함수들\r\n   ******************************************************************/\r\n  // 테이블 버튼들\r\n  const buttonInfos: ButtonInfoProps[] = [\r\n    {\r\n      id: 'BTN_RESOURCE_TAB_ADD',\r\n      disable: pageState.disablePostButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: false,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'post';\r\n\r\n        resetForm();\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_RESOURCE_TAB_MODIFY',\r\n      disable: pageState.disablePutDeleteButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: true,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'put';\r\n\r\n        replaceForm({\r\n          name: tabRow.name,\r\n          description: tabRow.description,\r\n          status: tabRow.status,\r\n          code: tabRow.code,\r\n          url: tabRow.url,\r\n          tabGroup: tabRow.tabGroup,\r\n          sort: tabRow.sort,\r\n          httpMethod: tabRow.httpMethod,\r\n          pageId: tabRow.pageId,\r\n        });\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_RESOURCE_TAB_DELETE',\r\n      disable: pageState.disablePutDeleteButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({ ...state, openDeleteDialog: true }));\r\n      },\r\n    },\r\n  ];\r\n  const buttons = useButtons(pageData && pageData.buttonMap, buttonInfos);\r\n\r\n  // 페이지 자원 목록 테이블 select 시 콜백\r\n  const onSelectPageTableRow = useCallback(\r\n    (id: string, rowValue: any) => {\r\n      pageRow = rowValue;\r\n      setPageState((state) => ({\r\n        ...state,\r\n        disablePostButton: false,\r\n        disablePutDeleteButton: true,\r\n      }));\r\n\r\n      getTabs();\r\n    },\r\n    [getTabs],\r\n  );\r\n\r\n  // 탭 자원 목록 테이블 select 시 콜백\r\n  const onSelectTabTableRow = useCallback((id: string, rowValue: any) => {\r\n    tabRow = rowValue;\r\n    setPageState((state) => ({\r\n      ...state,\r\n      disablePutDeleteButton: false,\r\n    }));\r\n  }, []);\r\n\r\n  // 탭 저장\r\n  const onSaveTab = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if (buttonType === 'post') {\r\n      postTab();\r\n    } else if (buttonType === 'put') {\r\n      putTab();\r\n    }\r\n  };\r\n\r\n  // 탭 이름 blur 이벤트\r\n  const onBlurName = (e: React.FocusEvent<HTMLInputElement>) => {\r\n    if (!description) {\r\n      replaceForm({\r\n        ...form,\r\n        description: name,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Validation\r\n  const tabValid = mergeValid([postTabValid, putTabValid]);\r\n\r\n  // 페이지 데이터 로딩 전엔 Loading 표시\r\n  if (!pageData) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <DeleteDialog\r\n        visible={pageState.openDeleteDialog}\r\n        onConfirm={deleteTab}\r\n        onCancel={() =>\r\n          setPageState((state) => ({ ...state, openDeleteDialog: false }))\r\n        }\r\n      />\r\n\r\n      <PageHeaderInfo pageData={pageData} />\r\n\r\n      <Container>\r\n        <div style={{ width: '35%' }}>\r\n          <Table\r\n            caption={LABEL_RESOURCE_TAB_PAGE_LIST}\r\n            model={pageTableModel}\r\n            data={pages ? pages.content : []}\r\n            onSelectRow={onSelectPageTableRow}\r\n          />\r\n        </div>\r\n        <div style={{ width: '65%' }}>\r\n          <Table\r\n            caption={LABEL_RESOURCE_TAB_LIST}\r\n            buttons={buttons}\r\n            model={labelTableModel}\r\n            data={tabs ? tabs.content : []}\r\n            onSelectRow={onSelectTabTableRow}\r\n          />\r\n        </div>\r\n      </Container>\r\n\r\n      <Modal visible={pageState.openModal} title={LABEL_RESOURCE_TAB_CAPTION}>\r\n        <Form onSubmit={onSaveTab}>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_TAB_CODE}\r\n              value={code}\r\n              onChange={onChangeForm}\r\n              name=\"code\"\r\n              disabled={pageState.disableItem}\r\n              validation={tabValid.code}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_TAB_NAME}\r\n              value={name}\r\n              onChange={onChangeForm}\r\n              onBlur={onBlurName}\r\n              name=\"name\"\r\n              validation={tabValid.name}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              label={LABEL_RESOURCE_TAB_DESCRIPTION}\r\n              value={description}\r\n              onChange={onChangeForm}\r\n              name=\"description\"\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              required\r\n              label={LABEL_RESOURCE_TAB_STATUS}\r\n              data={enableCodes}\r\n              value={status}\r\n              onChange={onChangeForm}\r\n              name=\"status\"\r\n              validation={tabValid.status}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_TAB_GROUP}\r\n              value={tabGroup}\r\n              onChange={onChangeForm}\r\n              name=\"tabGroup\"\r\n              validation={tabValid.tabGroup}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_TAB_URL}\r\n              value={url}\r\n              onChange={onChangeForm}\r\n              name=\"url\"\r\n              validation={tabValid.url}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_RESOURCE_TAB_SORT}\r\n              value={sort}\r\n              onChange={onChangeForm}\r\n              name=\"sort\"\r\n              validation={tabValid.sort}\r\n            />\r\n          </Row>\r\n          <InFormContainer>\r\n            <SaveButton />\r\n            <CloseButton\r\n              onClick={() =>\r\n                setPageState((state) => ({ ...state, openModal: false }))\r\n              }\r\n            />\r\n          </InFormContainer>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ResourceTab;\r\n","import { Button, Container, Icon, Loading } from 'doif-react-kit';\r\nimport PageHeaderInfo from '../../../components/PageHeaderInfo';\r\nimport useAsyncAction, { postAction } from '../../../hooks/useAsyncAction';\r\nimport usePage from '../../../hooks/usePage';\r\n\r\n/**\r\n * 캐시 초기화 페이지\r\n * @returns SecurityCacheRefresh\r\n */\r\nfunction SecurityCacheRefresh() {\r\n  /******************************************************************\r\n   * 기본 데이터 및 state\r\n   *******************************************************************/\r\n  // 페이지 데이터 조회\r\n  const [pageData] = usePage('/api/pages/security/cache/refresh');\r\n\r\n  /******************************************************************\r\n   * Action 함수들\r\n   ******************************************************************/\r\n\r\n  // 모든 캐시 초기화\r\n  const [refreshAllCache] = useAsyncAction(() =>\r\n    postAction('/api/cache/refresh/all'),\r\n  );\r\n\r\n  // 페이지 데이터 로딩 전엔 Loading 표시\r\n  if (!pageData) {\r\n    return <Loading />;\r\n  }\r\n\r\n  // user role 할당 버튼\r\n  const refreshAllCacheButton =\r\n    pageData.buttonMap['BTN_SECURITY_CACHE_REFRESH_ALL'];\r\n\r\n  return (\r\n    <>\r\n      <PageHeaderInfo pageData={pageData} />\r\n\r\n      <Container>\r\n        {refreshAllCacheButton && (\r\n          <Button onClick={refreshAllCache}>\r\n            <Icon icon={refreshAllCacheButton.icon} />\r\n            {refreshAllCacheButton.name}\r\n          </Button>\r\n        )}\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SecurityCacheRefresh;\r\n","import {\r\n  Button,\r\n  CloseButton,\r\n  Column,\r\n  Container,\r\n  DeleteDialog,\r\n  Field,\r\n  Form,\r\n  Icon,\r\n  InFormContainer,\r\n  Label,\r\n  LabelInput,\r\n  LabelSelect,\r\n  Loading,\r\n  Modal,\r\n  Row,\r\n  SaveButton,\r\n  Table,\r\n  TableModelProps,\r\n  useChange,\r\n} from 'doif-react-kit';\r\nimport { FormEvent, useCallback, useEffect, useState } from 'react';\r\nimport mergeValid from '../../../common/mergeValid';\r\nimport PageHeaderInfo from '../../../components/PageHeaderInfo';\r\nimport useAsyncAction, {\r\n  deleteAction,\r\n  postAction,\r\n  putAction,\r\n} from '../../../hooks/useAsyncAction';\r\nimport useAsyncGetAction, { getAction } from '../../../hooks/useAsyncGetAction';\r\nimport useButtons, { ButtonInfoProps } from '../../../hooks/useButtons';\r\nimport useCodes from '../../../hooks/useCodes';\r\nimport useLabels from '../../../hooks/useLabels';\r\nimport usePage from '../../../hooks/usePage';\r\nimport useTableModel from '../../../hooks/useTableModel';\r\n\r\n// table row data\r\nlet row: any = {};\r\n// button 클릭시 등록/수정 타입\r\nlet buttonType: string = '';\r\n\r\n// roleResource Page checked\r\nlet checkedRoleResourcePage: any = {};\r\n\r\n// roleResource Button checked\r\nlet checkedRoleResourceButton: any = {};\r\n\r\n// roleResource Tab checked\r\nlet checkedRoleResourceTab: any = {};\r\n\r\n// roleResource Menu checked\r\nlet checkedRoleResourceMenu: any = {};\r\n\r\n/**\r\n * 페이지 자원 관리 페이지\r\n * @returns SecurityRole\r\n */\r\nfunction SecurityRole() {\r\n  /******************************************************************\r\n   * 기본 데이터 및 state\r\n   *******************************************************************/\r\n  // 페이지 데이터 조회\r\n  const [pageData] = usePage('/api/pages/security/role');\r\n  // 코드 조회\r\n  const [enableCodes]: any = useCodes('ENABLE_STATUS', pageData);\r\n\r\n  // 버튼 자원 목록 데이터\r\n  const [roleResourceButtonDatas, setRoleResourceButtonDatas] = useState<any>(\r\n    [],\r\n  );\r\n\r\n  // 탭 자원 목록 데이터\r\n  const [roleResourceTabDatas, setRoleResourceTabDatas] = useState<any>([]);\r\n\r\n  // 초기 페이지 상태\r\n  const initPageState = {\r\n    openModal: false,\r\n    disableButton: true,\r\n    openDeleteDialog: false,\r\n    disableItem: false,\r\n    openRoleResourceModal: false,\r\n    openRoleResourceMenuModal: false,\r\n  };\r\n\r\n  // 페이지 상태\r\n  const [pageState, setPageState] = useState(initPageState);\r\n\r\n  // form 데이터\r\n  const [form, onChangeForm, replaceForm, resetForm] = useChange({\r\n    name: '',\r\n    description: '',\r\n    status: 'ENABLE',\r\n  });\r\n\r\n  const { name, description, status } = form;\r\n\r\n  // 라벨들\r\n  const {\r\n    LABEL_SECURITY_ROLE_NAME,\r\n    LABEL_SECURITY_ROLE_DESCRIPTION,\r\n    LABEL_SECURITY_ROLE_STATUS,\r\n    LABEL_SECURITY_ROLE_LIST,\r\n    LABEL_SECURITY_ROLE_CAPTION,\r\n    LABEL_SECURITY_ROLE_RESOURCE_CAPTION,\r\n    LABEL_SECURITY_ROLE_RESOURCE_PAGE_LIST,\r\n    LABEL_SECURITY_ROLE_RESOURCE_BUTTON_LIST,\r\n    LABEL_SECURITY_ROLE_RESOURCE_TAB_LIST,\r\n    LABEL_SECURITY_ROLE_RESOURCE_MENU_CAPTION,\r\n    LABEL_SECURITY_ROLE_RESOURCE_MENU_LIST,\r\n  } = useLabels(pageData);\r\n\r\n  // 테이블 model\r\n  const model: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_ID',\r\n        name: 'roleId',\r\n        width: 100,\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_NAME',\r\n        name: 'name',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_DESCRIPTION',\r\n        name: 'description',\r\n        width: 450,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_STATUS',\r\n        name: 'statusName',\r\n        width: 120,\r\n        formatter: (cellValue: any) => {\r\n          return cellValue.props.value === '가능' ? (\r\n            <span style={{ color: '#02c902' }}>{cellValue}</span>\r\n          ) : (\r\n            <span style={{ color: '#fc3d3d' }}>{cellValue}</span>\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  // RoleResource page model\r\n  const pageModel: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_RESOURCE_PAGE_NAME',\r\n        name: 'name',\r\n        width: 350,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'checked',\r\n        width: 50,\r\n        formatter: (cellvalue: any, rowValue: any) => {\r\n          return (\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={checkedRoleResourcePage[rowValue.pageId]}\r\n              onChange={(e) => {\r\n                checkedRoleResourcePage[rowValue.pageId] = e.target.checked;\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_STATUS',\r\n        name: 'statusName',\r\n        width: 120,\r\n        formatter: (cellValue: any) => {\r\n          return cellValue.props.value === '가능' ? (\r\n            <span style={{ color: '#02c902' }}>{cellValue}</span>\r\n          ) : (\r\n            <span style={{ color: '#fc3d3d' }}>{cellValue}</span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'pageId',\r\n        hidden: true,\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  // RoleResource button model\r\n  const buttonModel: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_RESOURCE_BUTTON_NAME',\r\n        name: 'name',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_RESOURCE_BUTTON_DESCRIPTION',\r\n        name: 'description',\r\n        width: 400,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'checked',\r\n        width: 50,\r\n        formatter: (cellvalue: any, rowValue: any) => {\r\n          return (\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={checkedRoleResourceButton[rowValue.buttonId]}\r\n              onChange={(e) => {\r\n                checkedRoleResourceButton[rowValue.buttonId] = e.target.checked;\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_STATUS',\r\n        name: 'statusName',\r\n        width: 120,\r\n        formatter: (cellValue: any) => {\r\n          return cellValue.props.value === '가능' ? (\r\n            <span style={{ color: '#02c902' }}>{cellValue}</span>\r\n          ) : (\r\n            <span style={{ color: '#fc3d3d' }}>{cellValue}</span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'buttonId',\r\n        hidden: true,\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  // RoleResource tab model\r\n  const tabModel: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_RESOURCE_TAB_NAME',\r\n        name: 'name',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_RESOURCE_TAB_DESCRIPTION',\r\n        name: 'description',\r\n        width: 400,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'checked',\r\n        width: 50,\r\n        formatter: (cellvalue: any, rowValue: any) => {\r\n          return (\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={checkedRoleResourceTab[rowValue.tabId]}\r\n              onChange={(e) => {\r\n                checkedRoleResourceTab[rowValue.tabId] = e.target.checked;\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_STATUS',\r\n        name: 'statusName',\r\n        width: 120,\r\n        formatter: (cellValue: any) => {\r\n          return cellValue.props.value === '가능' ? (\r\n            <span style={{ color: '#02c902' }}>{cellValue}</span>\r\n          ) : (\r\n            <span style={{ color: '#fc3d3d' }}>{cellValue}</span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'tabId',\r\n        hidden: true,\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  // RoleResource menu model\r\n  const menuModel: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_RESOURCE_MENU_NAME',\r\n        name: 'name',\r\n        width: 350,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_RESOURCE_MENU_DESCRIPTION',\r\n        name: 'description',\r\n        width: 500,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_RESOURCE_MENU_TYPE',\r\n        name: 'typeName',\r\n        width: 150,\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'checked',\r\n        width: 50,\r\n        formatter: (cellvalue: any, rowValue: any) => {\r\n          return (\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={checkedRoleResourceMenu[rowValue.menuId]}\r\n              onChange={(e) => {\r\n                checkedRoleResourceMenu[rowValue.menuId] = e.target.checked;\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_ROLE_STATUS',\r\n        name: 'statusName',\r\n        width: 120,\r\n        formatter: (cellValue: any) => {\r\n          return cellValue.props.value === '가능' ? (\r\n            <span style={{ color: '#02c902' }}>{cellValue}</span>\r\n          ) : (\r\n            <span style={{ color: '#fc3d3d' }}>{cellValue}</span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'menuId',\r\n        hidden: true,\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  /******************************************************************\r\n   * Action 함수들\r\n   ******************************************************************/\r\n\r\n  // Role 등록/수정/삭제 시 성공 콜백\r\n  const asyncSucCallback = () => {\r\n    setPageState((state) => ({\r\n      ...state,\r\n      openModal: false,\r\n      openDeleteDialog: false,\r\n    }));\r\n    getRoles();\r\n  };\r\n\r\n  // Role 데이터 조회\r\n  const [roles, getRoles]: any = useAsyncGetAction(\r\n    () => pageData && getAction('/api/roles'),\r\n    [pageData],\r\n    {\r\n      skip: false,\r\n      onSuccess: () => {\r\n        setPageState(initPageState);\r\n      },\r\n    },\r\n  );\r\n\r\n  // Role 등록\r\n  const [postRole, postRoleValid] = useAsyncAction(\r\n    () => postAction('/api/roles', form),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // Role 수정\r\n  const [putRole, putRoleValid] = useAsyncAction(\r\n    () => putAction('/api/roles/' + row.roleId, form),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // Role 삭제\r\n  const [deleteRole] = useAsyncAction(\r\n    () => deleteAction('/api/roles/' + row.roleId),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // RoleResource Page 조회\r\n  const [roleResourcePages, getRoleResourcePages] = useAsyncGetAction(\r\n    () =>\r\n      pageData &&\r\n      getAction('/api/role-resources/pages', {\r\n        roleId: row.roleId,\r\n      }),\r\n    [pageData],\r\n    {\r\n      skip: true,\r\n    },\r\n  );\r\n\r\n  // RoleResource Menu 조회\r\n  const [roleResourceMenus, getRoleResourceMenus] = useAsyncGetAction(\r\n    () =>\r\n      pageData &&\r\n      getAction('/api/role-resources/menus', {\r\n        roleId: row.roleId,\r\n      }),\r\n    [pageData],\r\n    {\r\n      skip: true,\r\n    },\r\n  );\r\n\r\n  // Role Resource 할당\r\n  const [allocateRoleResource] = useAsyncAction(\r\n    () => {\r\n      const checkedPageIds = [];\r\n      const checkedButtonIds = [];\r\n      const checkedTabIds = [];\r\n\r\n      for (const pageId in checkedRoleResourcePage) {\r\n        if (checkedRoleResourcePage[pageId]) {\r\n          checkedPageIds.push(pageId);\r\n        }\r\n      }\r\n\r\n      for (const buttonId in checkedRoleResourceButton) {\r\n        if (checkedRoleResourceButton[buttonId]) {\r\n          checkedButtonIds.push(buttonId);\r\n        }\r\n      }\r\n\r\n      for (const tabId in checkedRoleResourceTab) {\r\n        if (checkedRoleResourceTab[tabId]) {\r\n          checkedTabIds.push(tabId);\r\n        }\r\n      }\r\n\r\n      return postAction('/api/role-resources', {\r\n        roleId: row.roleId,\r\n        pages: checkedPageIds,\r\n        buttons: checkedButtonIds,\r\n        tabs: checkedTabIds,\r\n      });\r\n    },\r\n    {\r\n      onSuccess: () => {\r\n        setPageState((state) => ({ ...state, openRoleResourceModal: false }));\r\n      },\r\n    },\r\n  );\r\n\r\n  // Role Resource Menu 할당\r\n  const [allocateRoleResourceMenu] = useAsyncAction(\r\n    () => {\r\n      const checkedMenuIds = [];\r\n\r\n      for (const menuId in checkedRoleResourceMenu) {\r\n        if (checkedRoleResourceMenu[menuId]) {\r\n          checkedMenuIds.push(menuId);\r\n        }\r\n      }\r\n\r\n      return postAction('/api/role-resources/menus', {\r\n        roleId: row.roleId,\r\n        menus: checkedMenuIds,\r\n      });\r\n    },\r\n    {\r\n      onSuccess: () => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          openRoleResourceMenuModal: false,\r\n        }));\r\n      },\r\n    },\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (roleResourcePages) {\r\n      roleResourcePages.content.forEach((roleResourcePage: any) => {\r\n        checkedRoleResourcePage[roleResourcePage.pageId] =\r\n          roleResourcePage.checked;\r\n\r\n        if (roleResourcePage.buttons && roleResourcePage.buttons.length > 0) {\r\n          roleResourcePage.buttons.forEach((roleResourceButton: any) => {\r\n            checkedRoleResourceButton[roleResourceButton.buttonId] =\r\n              roleResourceButton.checked;\r\n          });\r\n        }\r\n\r\n        if (roleResourcePage.tabs && roleResourcePage.tabs.length > 0) {\r\n          roleResourcePage.tabs.forEach((roleResourceTab: any) => {\r\n            checkedRoleResourceTab[roleResourceTab.tabId] =\r\n              roleResourceTab.checked;\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }, [roleResourcePages]);\r\n\r\n  const recursiveChecked = useCallback((roleResourceMenu: any) => {\r\n    if (roleResourceMenu) {\r\n      if (roleResourceMenu.subRows && roleResourceMenu.subRows.length > 0) {\r\n        roleResourceMenu.subRows.forEach((el: any) => {\r\n          checkedRoleResourceMenu[el.menuId] = el.checked;\r\n          recursiveChecked(el);\r\n        });\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (roleResourceMenus) {\r\n      roleResourceMenus.content.forEach((roleResourceMenu: any) => {\r\n        checkedRoleResourceMenu[roleResourceMenu.menuId] =\r\n          roleResourceMenu.checked;\r\n\r\n        recursiveChecked(roleResourceMenu);\r\n      });\r\n    }\r\n  }, [roleResourceMenus, recursiveChecked]);\r\n\r\n  /******************************************************************\r\n   * 클라이언트 함수들\r\n   ******************************************************************/\r\n  // 테이블 버튼들\r\n  const buttonInfos: ButtonInfoProps[] = [\r\n    {\r\n      id: 'BTN_SECURITY_ROLE_ADD',\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: false,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'post';\r\n\r\n        resetForm();\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_SECURITY_ROLE_MODIFY',\r\n      disable: pageState.disableButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: true,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'put';\r\n\r\n        replaceForm({\r\n          name: row.name,\r\n          description: row.description,\r\n          status: row.status,\r\n        });\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_SECURITY_ROLE_DELETE',\r\n      disable: pageState.disableButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({ ...state, openDeleteDialog: true }));\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_SECURITY_ROLE_RESOURCE_MENU_FIND',\r\n      disable: pageState.disableButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        checkedRoleResourceMenu = {};\r\n        getRoleResourceMenus();\r\n        setPageState((state) => ({\r\n          ...state,\r\n          openRoleResourceMenuModal: true,\r\n        }));\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_SECURITY_ROLE_RESOURCE_PAGE_FIND',\r\n      disable: pageState.disableButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        checkedRoleResourcePage = {};\r\n        getRoleResourcePages();\r\n        setPageState((state) => ({ ...state, openRoleResourceModal: true }));\r\n        setRoleResourceButtonDatas([]);\r\n        setRoleResourceTabDatas([]);\r\n      },\r\n    },\r\n  ];\r\n  const buttons = useButtons(pageData && pageData.buttonMap, buttonInfos);\r\n\r\n  // 테이블 select 시 콜백\r\n  const onSelectRow = useCallback((id: string, rowValue: any) => {\r\n    row = rowValue;\r\n    setPageState((state) => ({\r\n      ...state,\r\n      disableButton: false,\r\n    }));\r\n  }, []);\r\n\r\n  // roleResourcePage 테이블 select 시 콜백\r\n  const onSelectRoleResourcePageRow = useCallback(\r\n    (id: string, rowValue: any) => {\r\n      setRoleResourceButtonDatas(rowValue.buttons);\r\n      setRoleResourceTabDatas(rowValue.tabs);\r\n    },\r\n    [],\r\n  );\r\n\r\n  // Role 저장\r\n  const onSaveRole = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if (buttonType === 'post') {\r\n      postRole();\r\n    } else if (buttonType === 'put') {\r\n      putRole();\r\n    }\r\n  };\r\n\r\n  // RoleResource 할당\r\n  const onAllocateRoleResource = () => {\r\n    allocateRoleResource();\r\n  };\r\n\r\n  // RoleResourceMenu 할당\r\n  const onAllocateRoleResourceMenu = () => {\r\n    allocateRoleResourceMenu();\r\n  };\r\n\r\n  // Validation\r\n  const roleValid = mergeValid([postRoleValid, putRoleValid]);\r\n\r\n  // 페이지 데이터 로딩 전엔 Loading 표시\r\n  if (!pageData) {\r\n    return <Loading />;\r\n  }\r\n\r\n  // role resource 할당 버튼\r\n  const allocateButton =\r\n    pageData.buttonMap['BTN_SECURITY_ROLE_RESOURCE_ALLOCATE'];\r\n\r\n  // role resource menu 할당 버튼\r\n  const allocateMenuButton =\r\n    pageData.buttonMap['BTN_SECURITY_ROLE_RESOURCE_MENU_ALLOCATE'];\r\n\r\n  return (\r\n    <>\r\n      <DeleteDialog\r\n        visible={pageState.openDeleteDialog}\r\n        onConfirm={deleteRole}\r\n        onCancel={() =>\r\n          setPageState((state) => ({ ...state, openDeleteDialog: false }))\r\n        }\r\n      />\r\n\r\n      <PageHeaderInfo pageData={pageData} />\r\n\r\n      <Table\r\n        caption={LABEL_SECURITY_ROLE_LIST}\r\n        model={model}\r\n        buttons={buttons}\r\n        data={roles ? roles.content : []}\r\n        onSelectRow={onSelectRow}\r\n      />\r\n\r\n      {/* Role 등록/수정 모달 */}\r\n      <Modal visible={pageState.openModal} title={LABEL_SECURITY_ROLE_CAPTION}>\r\n        <Form onSubmit={onSaveRole}>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_SECURITY_ROLE_NAME}\r\n              value={name}\r\n              onChange={onChangeForm}\r\n              name=\"name\"\r\n              disabled={pageState.disableItem}\r\n              validation={roleValid.name}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              label={LABEL_SECURITY_ROLE_DESCRIPTION}\r\n              value={description}\r\n              onChange={onChangeForm}\r\n              name=\"description\"\r\n              validation={roleValid.description}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              required\r\n              label={LABEL_SECURITY_ROLE_STATUS}\r\n              data={enableCodes}\r\n              value={status}\r\n              onChange={onChangeForm}\r\n              name=\"status\"\r\n              validation={roleValid.status}\r\n            />\r\n          </Row>\r\n          <InFormContainer>\r\n            <SaveButton />\r\n            <CloseButton\r\n              onClick={() =>\r\n                setPageState((state) => ({ ...state, openModal: false }))\r\n              }\r\n            />\r\n          </InFormContainer>\r\n        </Form>\r\n      </Modal>\r\n\r\n      {/* Menu Role Resource 모달 */}\r\n      <Modal\r\n        visible={pageState.openRoleResourceMenuModal}\r\n        title={LABEL_SECURITY_ROLE_RESOURCE_MENU_CAPTION}\r\n        width=\"1500px\"\r\n      >\r\n        <Container direction=\"column\">\r\n          <Form>\r\n            <Row>\r\n              <Column>\r\n                <Label>Role 명</Label>\r\n                <Field>{row.name}</Field>\r\n              </Column>\r\n            </Row>\r\n          </Form>\r\n          <Table\r\n            caption={LABEL_SECURITY_ROLE_RESOURCE_MENU_LIST}\r\n            model={menuModel}\r\n            data={roleResourceMenus ? roleResourceMenus.content : []}\r\n            disableFilters\r\n            enableTreeTable\r\n          />\r\n        </Container>\r\n\r\n        <Container align=\"center\" style={{ marginTop: '15px' }}>\r\n          {allocateMenuButton && (\r\n            <Button onClick={onAllocateRoleResourceMenu}>\r\n              <Icon icon={allocateMenuButton.icon} />\r\n              {allocateMenuButton.name}\r\n            </Button>\r\n          )}\r\n          <CloseButton\r\n            onClick={() =>\r\n              setPageState((state) => ({\r\n                ...state,\r\n                openRoleResourceMenuModal: false,\r\n              }))\r\n            }\r\n          />\r\n        </Container>\r\n      </Modal>\r\n\r\n      {/* Role Resource 모달 */}\r\n      <Modal\r\n        visible={pageState.openRoleResourceModal}\r\n        title={LABEL_SECURITY_ROLE_RESOURCE_CAPTION}\r\n        width=\"1500px\"\r\n      >\r\n        <Container direction=\"column\">\r\n          <Form>\r\n            <Row>\r\n              <Column>\r\n                <Label>Role 명</Label>\r\n                <Field>{row.name}</Field>\r\n              </Column>\r\n            </Row>\r\n          </Form>\r\n          <Container>\r\n            <div style={{ width: '40%' }}>\r\n              <Table\r\n                caption={LABEL_SECURITY_ROLE_RESOURCE_PAGE_LIST}\r\n                model={pageModel}\r\n                height=\"523px\"\r\n                data={roleResourcePages ? roleResourcePages.content : []}\r\n                onSelectRow={onSelectRoleResourcePageRow}\r\n                disableFilters\r\n              />\r\n            </div>\r\n            <div style={{ width: '60%' }}>\r\n              <Container direction=\"column\">\r\n                <Table\r\n                  caption={LABEL_SECURITY_ROLE_RESOURCE_BUTTON_LIST}\r\n                  model={buttonModel}\r\n                  height=\"200px\"\r\n                  data={roleResourceButtonDatas}\r\n                  disableFilters\r\n                />\r\n                <Table\r\n                  caption={LABEL_SECURITY_ROLE_RESOURCE_TAB_LIST}\r\n                  model={tabModel}\r\n                  height=\"200px\"\r\n                  data={roleResourceTabDatas}\r\n                  disableFilters\r\n                />\r\n              </Container>\r\n            </div>\r\n          </Container>\r\n        </Container>\r\n\r\n        <Container align=\"center\" style={{ marginTop: '15px' }}>\r\n          {allocateButton && (\r\n            <Button onClick={onAllocateRoleResource}>\r\n              <Icon icon={allocateButton.icon} />\r\n              {allocateButton.name}\r\n            </Button>\r\n          )}\r\n          <CloseButton\r\n            onClick={() =>\r\n              setPageState((state) => ({\r\n                ...state,\r\n                openRoleResourceModal: false,\r\n              }))\r\n            }\r\n          />\r\n        </Container>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SecurityRole;\r\n","import axios from 'axios';\r\nimport {\r\n  Button,\r\n  CloseButton,\r\n  Column,\r\n  Container,\r\n  DeleteDialog,\r\n  Field,\r\n  Form,\r\n  Icon,\r\n  InFormContainer,\r\n  Input,\r\n  Label,\r\n  LabelInput,\r\n  LabelSelect,\r\n  Loading,\r\n  Modal,\r\n  Row,\r\n  SaveButton,\r\n  Table,\r\n  TableModelProps,\r\n  useChange,\r\n} from 'doif-react-kit';\r\nimport { FormEvent, useCallback, useEffect, useState } from 'react';\r\nimport mergeValid from '../../../common/mergeValid';\r\nimport PageHeaderInfo from '../../../components/PageHeaderInfo';\r\nimport useAsyncAction, {\r\n  deleteAction,\r\n  postAction,\r\n  putAction,\r\n} from '../../../hooks/useAsyncAction';\r\nimport useAsyncGetAction, { getAction } from '../../../hooks/useAsyncGetAction';\r\nimport useButtons, { ButtonInfoProps } from '../../../hooks/useButtons';\r\nimport useCodes from '../../../hooks/useCodes';\r\nimport useLabels from '../../../hooks/useLabels';\r\nimport usePage from '../../../hooks/usePage';\r\nimport useTableModel from '../../../hooks/useTableModel';\r\n\r\n// table row data\r\nlet row: any = {};\r\n// button 클릭시 등록/수정 타입\r\nlet buttonType: string = '';\r\n\r\n// userRole checked\r\nlet checkedUserRole: any = {};\r\n\r\n/**\r\n * 유저 관리 페이지\r\n * @returns SecurityUser\r\n */\r\nfunction SecurityUser() {\r\n  /******************************************************************\r\n   * 기본 데이터 및 state\r\n   *******************************************************************/\r\n  // 페이지 데이터 조회\r\n  const [pageData] = usePage('/api/pages/security/user');\r\n  // 코드 조회\r\n  const [userStatusCodes]: any = useCodes('USER_STATUS', pageData);\r\n\r\n  // 초기 페이지 상태\r\n  const initPageState = {\r\n    openModal: false,\r\n    disableButton: true,\r\n    openDeleteDialog: false,\r\n    disableItem: false,\r\n    openRoleModal: false,\r\n  };\r\n\r\n  // 페이지 상태\r\n  const [pageState, setPageState] = useState(initPageState);\r\n\r\n  // form 데이터\r\n  const [form, onChangeForm, replaceForm, resetForm] = useChange({\r\n    id: '',\r\n    name: '',\r\n    password: '',\r\n    status: 'VALID',\r\n    profilePicturePath: '',\r\n  });\r\n  // 프로필 이미지\r\n  const [profilePicture, setProfilePicture] = useState<File>();\r\n\r\n  const { id, name, password, status, profilePicturePath } = form;\r\n\r\n  // 라벨들\r\n  const {\r\n    LABEL_SECURITY_USER_ID,\r\n    LABEL_SECURITY_USER_NAME,\r\n    LABEL_SECURITY_USER_PASSWORD,\r\n    LABEL_SECURITY_USER_STATUS,\r\n    LABEL_SECURITY_USER_CAPTION,\r\n    LABEL_SECURITY_USER_LIST,\r\n    LABEL_SECURITY_USER_ROLE_CAPTION,\r\n    LABEL_SECURITY_USER_PROFILE_PICTURE,\r\n  } = useLabels(pageData);\r\n\r\n  // 테이블 model\r\n  const model: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_SECURITY_USER_ID',\r\n        name: 'id',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_USER_NAME',\r\n        name: 'name',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_USER_STATUS',\r\n        name: 'statusName',\r\n        width: 120,\r\n        formatter: (cellValue: any) => {\r\n          return cellValue.props.value === '유효' ? (\r\n            <span style={{ color: '#02c902' }}>{cellValue}</span>\r\n          ) : (\r\n            <span style={{ color: '#fc3d3d' }}>{cellValue}</span>\r\n          );\r\n        },\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  // Role 테이블 모델\r\n  const roleTableModel: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_SECURITY_USER_ROLE_ID',\r\n        name: 'roleId',\r\n        width: 100,\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_USER_ROLE_NAME',\r\n        name: 'name',\r\n        width: 250,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_USER_ROLE_DESCRIPTION',\r\n        name: 'description',\r\n        width: 450,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'checked',\r\n        width: 50,\r\n        formatter: (cellvalue: any, rowValue: any) => {\r\n          return (\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={checkedUserRole[rowValue.roleId]}\r\n              onChange={(e) => {\r\n                checkedUserRole[rowValue.roleId] = e.target.checked;\r\n              }}\r\n            />\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: 'LABEL_SECURITY_USER_ROLE_STATUS',\r\n        name: 'statusName',\r\n        width: 120,\r\n        formatter: (cellValue: any) => {\r\n          return cellValue.props.value === '가능' ? (\r\n            <span style={{ color: '#02c902' }}>{cellValue}</span>\r\n          ) : (\r\n            <span style={{ color: '#fc3d3d' }}>{cellValue}</span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'profilePicture',\r\n        hidden: true,\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  /******************************************************************\r\n   * Action 함수들\r\n   ******************************************************************/\r\n\r\n  // 유저 등록/수정/삭제 시 성공 콜백\r\n  const asyncSucCallback = () => {\r\n    setPageState((state) => ({\r\n      ...state,\r\n      openModal: false,\r\n      openDeleteDialog: false,\r\n    }));\r\n    getUsers();\r\n  };\r\n\r\n  // 유저 데이터 조회\r\n  const [users, getUsers]: any = useAsyncGetAction(\r\n    () => pageData && getAction('/api/users'),\r\n    [pageData],\r\n    {\r\n      skip: false,\r\n      onSuccess: () => {\r\n        setPageState(initPageState);\r\n      },\r\n    },\r\n  );\r\n\r\n  // 유저 등록\r\n  const [postUser, postUserValid] = useAsyncAction(\r\n    () => postAction('/api/users', form),\r\n    {\r\n      onSuccess: () => {\r\n        if (profilePicture) {\r\n          const formData = new FormData();\r\n          formData.append('file', profilePicture);\r\n          axios\r\n            .put('/api/users/' + form.id + '/profile-picture', formData)\r\n            .then(() => asyncSucCallback());\r\n        } else {\r\n          asyncSucCallback();\r\n        }\r\n      },\r\n    },\r\n  );\r\n\r\n  // 유저 수정\r\n  const [putUser, putUserValid] = useAsyncAction(\r\n    () => putAction('/api/users/' + row.id, form),\r\n    {\r\n      onSuccess: () => {\r\n        if (profilePicture) {\r\n          const formData = new FormData();\r\n          formData.append('file', profilePicture);\r\n          axios\r\n            .put('/api/users/' + form.id + '/profile-picture', formData)\r\n            .then(() => asyncSucCallback());\r\n        } else {\r\n          asyncSucCallback();\r\n        }\r\n      },\r\n    },\r\n  );\r\n\r\n  // 유저 삭제\r\n  const [deleteUser] = useAsyncAction(\r\n    () => deleteAction('/api/users/' + row.id),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 유저 Role 조회\r\n  const [userRoles, getUserRoles] = useAsyncGetAction(\r\n    () => pageData && getAction('/api/users/' + row.id + '/user-roles'),\r\n    [pageData],\r\n    {\r\n      skip: true,\r\n    },\r\n  );\r\n\r\n  // 유저 Role 할당\r\n  const [allocateUserRole] = useAsyncAction(\r\n    () => {\r\n      const checkedRoleIds = [];\r\n      for (const roleId in checkedUserRole) {\r\n        if (checkedUserRole[roleId]) {\r\n          checkedRoleIds.push(roleId);\r\n        }\r\n      }\r\n\r\n      return postAction('/api/user-roles', {\r\n        userId: row.id,\r\n        roleIds: checkedRoleIds,\r\n      });\r\n    },\r\n    {\r\n      onSuccess: () => {\r\n        setPageState((state) => ({ ...state, openRoleModal: false }));\r\n      },\r\n    },\r\n  );\r\n\r\n  // 프로필 사진 삭제\r\n  const [deleteProfilePicture] = useAsyncAction(() =>\r\n    deleteAction('/api/users/' + form.id + '/profile-picture'),\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (userRoles) {\r\n      userRoles.content.forEach((userRole: any) => {\r\n        checkedUserRole[userRole.roleId] = userRole.checked;\r\n      });\r\n    }\r\n  }, [userRoles]);\r\n\r\n  /******************************************************************\r\n   * 클라이언트 함수들\r\n   ******************************************************************/\r\n  // 테이블 버튼들\r\n  const buttonInfos: ButtonInfoProps[] = [\r\n    {\r\n      id: 'BTN_SECURITY_USER_ADD',\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: false,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'post';\r\n\r\n        resetForm();\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_SECURITY_USER_MODIFY',\r\n      disable: pageState.disableButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: true,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'put';\r\n\r\n        replaceForm({\r\n          id: row.id,\r\n          name: row.name,\r\n          status: row.status,\r\n          profilePicturePath: row.profilePicture,\r\n        });\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_SECURITY_USER_DELETE',\r\n      disable: pageState.disableButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({ ...state, openDeleteDialog: true }));\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_SECURITY_USER_ROLE_FIND',\r\n      disable: pageState.disableButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        checkedUserRole = {};\r\n        getUserRoles();\r\n        setPageState((state) => ({ ...state, openRoleModal: true }));\r\n      },\r\n    },\r\n  ];\r\n  const buttons = useButtons(pageData && pageData.buttonMap, buttonInfos);\r\n\r\n  // 테이블 select 시 콜백\r\n  const onSelectRow = useCallback((id: string, rowValue: any) => {\r\n    row = rowValue;\r\n    setPageState((state) => ({\r\n      ...state,\r\n      disableButton: false,\r\n    }));\r\n  }, []);\r\n\r\n  // 사용자 저장\r\n  const onSaveUser = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if (buttonType === 'post') {\r\n      postUser();\r\n    } else if (buttonType === 'put') {\r\n      putUser();\r\n    }\r\n  };\r\n\r\n  // 사용자 Role 할당\r\n  const onAllocateUserRole = () => {\r\n    allocateUserRole();\r\n  };\r\n\r\n  // 이미지 변경\r\n  const onChangeProfilePicture = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files) {\r\n      setProfilePicture(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  // 이미지 삭제\r\n  const onProfilePictureDelete = () => {\r\n    deleteProfilePicture();\r\n  };\r\n\r\n  // Validation\r\n  const userValid = mergeValid([postUserValid, putUserValid]);\r\n\r\n  // 페이지 데이터 로딩 전엔 Loading 표시\r\n  if (!pageData) {\r\n    return <Loading />;\r\n  }\r\n\r\n  // user role 할당 버튼\r\n  const allocateButton = pageData.buttonMap['BTN_SECURITY_USER_ROLE_ALLOCATE'];\r\n  // 프로필 삭제 버튼\r\n  const deleteProfilePictureButton =\r\n    pageData.buttonMap['BTN_SECURITY_USER_DELETE_PROFILE_PICTURE'];\r\n\r\n  return (\r\n    <>\r\n      <DeleteDialog\r\n        visible={pageState.openDeleteDialog}\r\n        onConfirm={deleteUser}\r\n        onCancel={() =>\r\n          setPageState((state) => ({ ...state, openDeleteDialog: false }))\r\n        }\r\n      />\r\n\r\n      <PageHeaderInfo pageData={pageData} />\r\n\r\n      <Table\r\n        caption={LABEL_SECURITY_USER_LIST}\r\n        model={model}\r\n        buttons={buttons}\r\n        data={users ? users.pageInfo.content : []}\r\n        onSelectRow={onSelectRow}\r\n      />\r\n\r\n      {/* 사용자 등록/수정 모달 */}\r\n      <Modal visible={pageState.openModal} title={LABEL_SECURITY_USER_CAPTION}>\r\n        <Form onSubmit={onSaveUser}>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_SECURITY_USER_ID}\r\n              value={id}\r\n              onChange={onChangeForm}\r\n              name=\"id\"\r\n              disabled={pageState.disableItem}\r\n              validation={userValid.id}\r\n            />\r\n          </Row>\r\n          {!pageState.disableItem && (\r\n            <Row>\r\n              <LabelInput\r\n                required\r\n                label={LABEL_SECURITY_USER_PASSWORD}\r\n                value={password}\r\n                onChange={onChangeForm}\r\n                name=\"password\"\r\n                type=\"password\"\r\n                validation={userValid.password}\r\n              />\r\n            </Row>\r\n          )}\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_SECURITY_USER_NAME}\r\n              value={name}\r\n              onChange={onChangeForm}\r\n              name=\"name\"\r\n              validation={userValid.name}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              required\r\n              label={LABEL_SECURITY_USER_STATUS}\r\n              data={userStatusCodes}\r\n              value={status}\r\n              onChange={onChangeForm}\r\n              name=\"status\"\r\n              validation={userValid.status}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <Column>\r\n              <Label>{LABEL_SECURITY_USER_PROFILE_PICTURE}</Label>\r\n              <Field>\r\n                <Input\r\n                  variant=\"underline\"\r\n                  type=\"file\"\r\n                  name=\"profilePicture\"\r\n                  onChange={onChangeProfilePicture}\r\n                />\r\n                {deleteProfilePictureButton && pageState.disableItem && (\r\n                  <Button onClick={onProfilePictureDelete}>삭제</Button>\r\n                )}\r\n              </Field>\r\n            </Column>\r\n          </Row>\r\n          <Row>\r\n            <Column>\r\n              <Label>{LABEL_SECURITY_USER_PROFILE_PICTURE}</Label>\r\n              <Field>\r\n                <img src={profilePicturePath} />\r\n              </Field>\r\n            </Column>\r\n          </Row>\r\n          <InFormContainer>\r\n            <SaveButton />\r\n            <CloseButton\r\n              onClick={() =>\r\n                setPageState((state) => ({ ...state, openModal: false }))\r\n              }\r\n            />\r\n          </InFormContainer>\r\n        </Form>\r\n      </Modal>\r\n\r\n      {/* 사용자 Role 모달 */}\r\n      <Modal\r\n        visible={pageState.openRoleModal}\r\n        title={LABEL_SECURITY_USER_ROLE_CAPTION}\r\n        width=\"1200px\"\r\n      >\r\n        <Table\r\n          caption={LABEL_SECURITY_USER_ROLE_CAPTION}\r\n          model={roleTableModel}\r\n          data={userRoles ? userRoles.content : []}\r\n          disableFilters\r\n        />\r\n\r\n        <Container align=\"center\" style={{ marginTop: '15px' }}>\r\n          {allocateButton && (\r\n            <Button onClick={onAllocateUserRole}>\r\n              <Icon icon={allocateButton.icon} />\r\n              {allocateButton.name}\r\n            </Button>\r\n          )}\r\n          <CloseButton\r\n            onClick={() =>\r\n              setPageState((state) => ({ ...state, openRoleModal: false }))\r\n            }\r\n          />\r\n        </Container>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SecurityUser;\r\n","import {\r\n  CloseButton,\r\n  DeleteDialog,\r\n  Form,\r\n  InFormContainer,\r\n  LabelInput,\r\n  LabelSelect,\r\n  Loading,\r\n  Modal,\r\n  PageHeader,\r\n  Row,\r\n  SaveButton,\r\n  SearchButton,\r\n  Table,\r\n  TableModelProps,\r\n  useChange,\r\n} from 'doif-react-kit';\r\nimport { FormEvent, useCallback, useMemo, useState } from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { defaultValue } from '../../../common/commonValue';\r\nimport mergeValid from '../../../common/mergeValid';\r\nimport PageHeaderInfo from '../../../components/PageHeaderInfo';\r\nimport useAsyncAction, {\r\n  deleteAction,\r\n  postAction,\r\n  putAction,\r\n} from '../../../hooks/useAsyncAction';\r\nimport useAsyncGetAction, { getAction } from '../../../hooks/useAsyncGetAction';\r\nimport useButtons, { ButtonInfoProps } from '../../../hooks/useButtons';\r\nimport useCodes from '../../../hooks/useCodes';\r\nimport useLabels from '../../../hooks/useLabels';\r\nimport usePage from '../../../hooks/usePage';\r\nimport useTableModel from '../../../hooks/useTableModel';\r\n\r\n// table row data\r\nlet row: any = {};\r\n// button 클릭시 등록/수정 타입\r\nlet buttonType: string = '';\r\n\r\n/**\r\n * 시스템 속성 관리 페이지\r\n * @returns SystemProperty\r\n */\r\n\r\nfunction SystemProperty() {\r\n  /******************************************************************\r\n   * 기본 데이터 및 state\r\n   *******************************************************************/\r\n  // 페이지 데이터 조회\r\n  const [pageData] = usePage('/api/pages/system/property');\r\n\r\n  // 초기 페이지 상태\r\n  const initPageState = {\r\n    openModal: false,\r\n    disableModifyButton: true,\r\n    disableDeleteButton: true,\r\n    openDeleteDialog: false,\r\n    disableItem: false,\r\n  };\r\n\r\n  // 페이지 상태\r\n  const [pageState, setPageState] = useState(initPageState);\r\n\r\n  // form 데이터\r\n  const [form, onChangeForm, replaceForm, resetForm] = useChange({\r\n    propertyGroup: '',\r\n    property: '',\r\n    value: '',\r\n    description: '',\r\n    updatable: 'true',\r\n  });\r\n\r\n  // 검색 조건 데이터\r\n  const [searchForm, onChangeSearchForm, replaceSearchForm, resetSearchForm] =\r\n    useChange({\r\n      searchPropertyGroup: '',\r\n    });\r\n\r\n  const { propertyGroup, property, value, description, updatable } = form;\r\n  const { searchPropertyGroup } = searchForm;\r\n\r\n  // 라벨들\r\n  const {\r\n    LABEL_SYSTEM_PROPERTY_GROUP,\r\n    LABEL_SYSTEM_PROPERTY_PROPERTY,\r\n    LABEL_SYSTEM_PROPERTY_VALUE,\r\n    LABEL_SYSTEM_PROPERTY_DESCRIPTION,\r\n    LABEL_SYSTEM_PROPERTY_UPDATEABLE,\r\n    LABEL_SYSTEM_PROPERTY_LIST,\r\n    LABEL_SYSTEM_PROPERTY_CAPTION,\r\n  } = useLabels(pageData);\r\n\r\n  // 코드\r\n  const [propertyGroupType]: any = useCodes('PROPERTY_GROUP_TYPE', pageData);\r\n  const updatableCodes = useMemo(\r\n    () => [\r\n      {\r\n        code: 'true',\r\n        name: '변경 가능',\r\n      },\r\n      {\r\n        code: 'false',\r\n        name: '변경 불가능',\r\n      },\r\n    ],\r\n    [],\r\n  );\r\n  // 테이블 model\r\n  const model: TableModelProps[] = useTableModel(\r\n    [\r\n      {\r\n        label: 'LABEL_SYSTEM_PROPERTY_GROUP_NAME',\r\n        name: 'propertyGroupName',\r\n        width: 200,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_SYSTEM_PROPERTY_GROUP',\r\n        name: 'propertyGroup',\r\n        width: 200,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_SYSTEM_PROPERTY_PROPERTY',\r\n        name: 'property',\r\n        width: 300,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_SYSTEM_PROPERTY_VALUE',\r\n        name: 'value',\r\n        width: 350,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_SYSTEM_PROPERTY_DESCRIPTION',\r\n        name: 'description',\r\n        width: 450,\r\n        align: 'left',\r\n      },\r\n      {\r\n        label: 'LABEL_SYSTEM_PROPERTY_UPDATEABLE',\r\n        name: 'updatableName',\r\n        width: 120,\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'systemPropertyId',\r\n        hidden: true,\r\n      },\r\n      {\r\n        label: '',\r\n        name: 'updatable',\r\n        hidden: true,\r\n      },\r\n    ],\r\n    pageData,\r\n  );\r\n\r\n  /******************************************************************\r\n   * Action 함수들\r\n   ******************************************************************/\r\n\r\n  // 메세지 등록/수정/삭제 시 성공 콜백\r\n  const asyncSucCallback = () => {\r\n    setPageState((state) => ({\r\n      ...state,\r\n      openModal: false,\r\n      openDeleteDialog: false,\r\n    }));\r\n    getSystemProperties();\r\n  };\r\n\r\n  // 시스템 속성 데이터 조회\r\n  const [systemProperties, getSystemProperties]: any = useAsyncGetAction(\r\n    () =>\r\n      pageData &&\r\n      getAction('/api/system-properties', {\r\n        propertyGroup: searchPropertyGroup,\r\n      }),\r\n    [pageData],\r\n    {\r\n      skip: false,\r\n      onSuccess: () => {\r\n        setPageState(initPageState);\r\n      },\r\n    },\r\n  );\r\n\r\n  // 시스템 속성 등록\r\n  const [postSystemProperty, postSystemPropertyValid] = useAsyncAction(\r\n    () => postAction('/api/system-properties', form),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 시스템 속성 수정\r\n  const [putSystemProperty, putSystemPropertyValid] = useAsyncAction(\r\n    () => putAction('/api/system-properties/' + row.systemPropertyId, form),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n    },\r\n  );\r\n\r\n  // 시스템 속성 삭제\r\n  const [deleteSystemProperty] = useAsyncAction(\r\n    () => deleteAction('/api/system-properties/' + row.systemPropertyId),\r\n    {\r\n      onSuccess: asyncSucCallback,\r\n      onError: () => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          openDeleteDialog: false,\r\n        }));\r\n      },\r\n    },\r\n  );\r\n\r\n  /******************************************************************\r\n   * 클라이언트 함수들\r\n   ******************************************************************/\r\n  // 테이블 버튼들\r\n  const buttonInfos: ButtonInfoProps[] = [\r\n    {\r\n      id: 'BTN_SYSTEM_PROPERTY_ADD',\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: false,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'post';\r\n\r\n        resetForm();\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_SYSTEM_PROPERTY_MODIFY',\r\n      disable: pageState.disableModifyButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({\r\n          ...state,\r\n          disableItem: true,\r\n          openModal: true,\r\n        }));\r\n        buttonType = 'put';\r\n\r\n        replaceForm({\r\n          propertyGroup: row.propertyGroup,\r\n          property: row.property,\r\n          value: row.value,\r\n          description: row.description,\r\n          updatable: row.updatable ? 'true' : 'false',\r\n        });\r\n      },\r\n    },\r\n    {\r\n      id: 'BTN_SYSTEM_PROPERTY_DELETE',\r\n      disable: pageState.disableDeleteButton,\r\n      onClick: (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n        setPageState((state) => ({ ...state, openDeleteDialog: true }));\r\n      },\r\n    },\r\n  ];\r\n  const buttons = useButtons(pageData && pageData.buttonMap, buttonInfos);\r\n\r\n  // 시스템 속성 조회\r\n  const onSearchSystemProperty = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n    getSystemProperties();\r\n  };\r\n\r\n  // 테이블 select 시 콜백\r\n  const onSelectRow = useCallback((id: string, rowValue: any) => {\r\n    row = rowValue;\r\n    setPageState((state) => ({\r\n      ...state,\r\n      disableModifyButton: !row.updatable,\r\n      disableDeleteButton: false,\r\n    }));\r\n  }, []);\r\n\r\n  // 시스템 속성 저장\r\n  const onSaveSystemProperty = (e: FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault();\r\n\r\n    if (buttonType === 'post') {\r\n      postSystemProperty();\r\n    } else if (buttonType === 'put') {\r\n      putSystemProperty();\r\n    }\r\n  };\r\n\r\n  // Validation\r\n  const systemPropertyValid = mergeValid([\r\n    postSystemPropertyValid,\r\n    putSystemPropertyValid,\r\n  ]);\r\n\r\n  // 페이지 데이터 로딩 전엔 Loading 표시\r\n  if (!pageData) {\r\n    return <Loading />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <DeleteDialog\r\n        visible={pageState.openDeleteDialog}\r\n        onConfirm={deleteSystemProperty}\r\n        onCancel={() =>\r\n          setPageState((state) => ({ ...state, openDeleteDialog: false }))\r\n        }\r\n      />\r\n\r\n      <PageHeaderInfo pageData={pageData} />\r\n\r\n      <Form onSubmit={onSearchSystemProperty}>\r\n        <Row>\r\n          <LabelSelect\r\n            label={LABEL_SYSTEM_PROPERTY_GROUP}\r\n            width=\"300px\"\r\n            defaultValue={defaultValue}\r\n            data={propertyGroupType}\r\n            value={searchPropertyGroup}\r\n            onChange={onChangeSearchForm}\r\n            name=\"searchPropertyGroup\"\r\n          />\r\n        </Row>\r\n        <InFormContainer align=\"right\">\r\n          <SearchButton />\r\n        </InFormContainer>\r\n      </Form>\r\n\r\n      <Table\r\n        caption={LABEL_SYSTEM_PROPERTY_LIST}\r\n        model={model}\r\n        buttons={buttons}\r\n        data={systemProperties ? systemProperties.content : []}\r\n        onSelectRow={onSelectRow}\r\n      />\r\n\r\n      <Modal\r\n        visible={pageState.openModal}\r\n        title={LABEL_SYSTEM_PROPERTY_CAPTION}\r\n      >\r\n        <Form onSubmit={onSaveSystemProperty}>\r\n          <Row>\r\n            <LabelSelect\r\n              required\r\n              label={LABEL_SYSTEM_PROPERTY_GROUP}\r\n              defaultValue={defaultValue}\r\n              data={propertyGroupType}\r\n              value={propertyGroup}\r\n              onChange={onChangeForm}\r\n              name=\"propertyGroup\"\r\n              disabled={pageState.disableItem}\r\n              validation={systemPropertyValid.propertyGroup}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_SYSTEM_PROPERTY_PROPERTY}\r\n              value={property}\r\n              onChange={onChangeForm}\r\n              name=\"property\"\r\n              disabled={pageState.disableItem}\r\n              validation={systemPropertyValid.property}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              required\r\n              label={LABEL_SYSTEM_PROPERTY_VALUE}\r\n              value={value}\r\n              onChange={onChangeForm}\r\n              name=\"value\"\r\n              validation={systemPropertyValid.value}\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelInput\r\n              label={LABEL_SYSTEM_PROPERTY_DESCRIPTION}\r\n              value={description}\r\n              onChange={onChangeForm}\r\n              name=\"description\"\r\n            />\r\n          </Row>\r\n          <Row>\r\n            <LabelSelect\r\n              required\r\n              label={LABEL_SYSTEM_PROPERTY_UPDATEABLE}\r\n              data={updatableCodes}\r\n              value={updatable}\r\n              onChange={onChangeForm}\r\n              name=\"updatable\"\r\n              validation={systemPropertyValid.updatable}\r\n            />\r\n          </Row>\r\n          <InFormContainer>\r\n            <SaveButton />\r\n            <CloseButton\r\n              onClick={() =>\r\n                setPageState((state) => ({ ...state, openModal: false }))\r\n              }\r\n            />\r\n          </InFormContainer>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default SystemProperty;\r\n","import React from 'react';\r\nimport { Helmet } from 'react-helmet-async';\r\n\r\nfunction Test() {\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>Project V</title>\r\n      </Helmet>\r\n      Default Page\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Test;\r\n","import { Box, Container, Page } from 'doif-react-kit';\r\nimport React, { useCallback, useEffect, useState } from 'react';\r\nimport { Route } from 'react-router';\r\nimport styled from 'styled-components';\r\nimport AppHeader from '../components/AppHeader';\r\nimport AppMenu from '../components/AppMenu';\r\nimport LoadingAndDialog from '../components/LoadingAndDialog';\r\nimport { useWindowSize } from '../hooks/useWindowSize';\r\nimport ResourceButton from './developer/button/ResourceButton';\r\nimport ResourceLabel from './developer/label/ResourceLabel';\r\nimport ResourceMenu from './developer/menu/ResourceMenu';\r\nimport ResourceMessage from './developer/message/ResourceMessage';\r\nimport ResourcePage from './developer/page/ResourcePage';\r\nimport ResourceTab from './developer/tab/ResourceTab';\r\nimport SecurityCacheRefresh from './security/cacheRefresh/SecurityCacheRefresh';\r\nimport SecurityRole from './security/role/SecurityRole';\r\nimport SecurityUser from './security/user/SecurityUser';\r\nimport SystemProperty from './system/property/SystemProperty';\r\nimport Test from './DefaultPage';\r\n\r\nfunction Main() {\r\n  const [isFold, setIsFold] = useState(() => {\r\n    return window.innerWidth < 720;\r\n  });\r\n  const [paddingLeft, setPaddingLeft] = useState(() => {\r\n    return window.innerWidth < 720 ? '3rem' : '15rem';\r\n  });\r\n  const windowSize = useWindowSize();\r\n\r\n  useEffect(() => {\r\n    const isFold = windowSize.width\r\n      ? windowSize.width < 720\r\n        ? true\r\n        : false\r\n      : false;\r\n\r\n    setIsFold(() => isFold);\r\n    setPaddingLeft(isFold ? '3rem' : '15rem');\r\n  }, [windowSize]);\r\n\r\n  const onClickHamburgerButton = useCallback(\r\n    (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n      setIsFold((isFold) => !isFold);\r\n    },\r\n    [],\r\n  );\r\n\r\n  useEffect(() => {\r\n    setPaddingLeft(isFold ? '3rem' : '15rem');\r\n  }, [isFold]);\r\n\r\n  return (\r\n    <>\r\n      <AppHeader\r\n        onClickHamburgerButton={onClickHamburgerButton}\r\n        paddingLeft={paddingLeft}\r\n      />\r\n      <AppMenu isFold={isFold} />\r\n\r\n      <PageContainer paddingLeft={paddingLeft}>\r\n        <Page>\r\n          <Box style={{ minHeight: '860px' }}>\r\n            <Container direction=\"column\">\r\n              <LoadingAndDialog />\r\n              <Route path=\"/\" component={Test} exact />\r\n\r\n              {/* 시스템 관리 카테고리 */}\r\n              <Route path=\"/system/property\" component={SystemProperty} />\r\n\r\n              {/* 보안 관리 카테고리 */}\r\n              <Route path=\"/security/user\" component={SecurityUser} />\r\n              <Route path=\"/security/role\" component={SecurityRole} />\r\n              <Route\r\n                path=\"/security/cache/refresh\"\r\n                component={SecurityCacheRefresh}\r\n              />\r\n\r\n              {/* 개발자 카테고리 */}\r\n              <Route path=\"/dev/menu\" component={ResourceMenu} />\r\n              <Route path=\"/dev/page\" component={ResourcePage} />\r\n              <Route path=\"/dev/label\" component={ResourceLabel} />\r\n              <Route path=\"/dev/button\" component={ResourceButton} />\r\n              <Route path=\"/dev/message\" component={ResourceMessage} />\r\n              <Route path=\"/dev/tab\" component={ResourceTab} />\r\n            </Container>\r\n          </Box>\r\n        </Page>\r\n      </PageContainer>\r\n    </>\r\n  );\r\n}\r\n\r\ninterface PageContainerProps {\r\n  paddingLeft: string;\r\n}\r\n\r\nconst PageContainer = styled.div<PageContainerProps>`\r\n  left: ${(props) => props.paddingLeft};\r\n  top: 3rem;\r\n  width: calc(100% - ${(props) => props.paddingLeft});\r\n  min-height: calc(100% - 3rem);\r\n  background-color: ${(props) => props.theme.subColors.pageBackground};\r\n  position: absolute;\r\n\r\n  /* @media only screen and (max-width: 720px) {\r\n    padding-left: 3rem;\r\n  } */\r\n`;\r\n\r\nexport default Main;\r\n","import { useState, useEffect } from 'react';\r\n\r\n// Hook\r\nexport function useWindowSize() {\r\n  // Initialize state with undefined width/height so server and client renders match\r\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\r\n  const [windowSize, setWindowSize] = useState<{\r\n    width: number | undefined;\r\n    height: number | undefined;\r\n  }>({\r\n    width: undefined,\r\n    height: undefined,\r\n  });\r\n\r\n  useEffect(() => {\r\n    // Handler to call on window resize\r\n    function handleResize() {\r\n      // Set window width/height to state\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n    }\r\n\r\n    // Add event listener\r\n    window.addEventListener('resize', handleResize);\r\n\r\n    // Call handler right away so state gets updated with initial window size\r\n    handleResize();\r\n\r\n    // Remove event listener on cleanup\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []); // Empty array ensures that effect is only run on mount\r\n\r\n  return windowSize;\r\n}\r\n","import axios from 'axios';\r\nimport { GlobalStyle, theme as appTheme } from 'doif-react-kit';\r\nimport 'doif-react-kit/dist/doif-react-kit.css';\r\nimport React from 'react';\r\nimport { atom, selector, useRecoilValue, useRecoilValueLoadable } from 'recoil';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport '../style/index.css';\r\nimport RequestError from './errors/RequestError';\r\nimport Login from './Login';\r\nimport Main from './Main';\r\n\r\nexport const themeState = atom({\r\n  key: 'themeState',\r\n  default: localStorage.getItem('AppTheme') || 'light',\r\n});\r\n\r\nexport const responseStatusState = atom({\r\n  key: 'responseStatusState',\r\n  default: 200,\r\n});\r\n\r\nexport const loginState = atom({\r\n  key: 'loginState',\r\n  default: axios.post('/token/check-login').then((res) => res.data),\r\n});\r\n\r\nexport const loginSelector = selector<boolean>({\r\n  key: 'Index/loginSelector',\r\n  get: ({ get }) => get(loginState),\r\n  set: ({ set }, newValue) => set(loginState, newValue),\r\n});\r\n\r\nfunction Index() {\r\n  const theme = useRecoilValue(themeState);\r\n  const responseStatus = useRecoilValue(responseStatusState);\r\n  const login = useRecoilValueLoadable(loginSelector);\r\n\r\n  if (responseStatus >= 400) {\r\n    return <RequestError />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <GlobalStyle />\r\n      <ThemeProvider theme={appTheme[theme]}>\r\n        {login.state === 'hasValue' ? (\r\n          login.contents ? (\r\n            <Main />\r\n          ) : (\r\n            <Login />\r\n          )\r\n        ) : null}\r\n      </ThemeProvider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Index;\r\n","import React from 'react';\r\nimport { RecoilRoot } from 'recoil';\r\nimport { QueryClient, QueryClientProvider } from 'react-query';\r\nimport Index from './pages/Index';\r\nimport { HelmetProvider } from 'react-helmet-async';\r\n\r\nconst queryClient = new QueryClient();\r\n\r\nfunction App() {\r\n  return (\r\n    <RecoilRoot>\r\n      <QueryClientProvider client={queryClient}>\r\n        <HelmetProvider>\r\n          <Index />\r\n        </HelmetProvider>\r\n      </QueryClientProvider>\r\n    </RecoilRoot>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}